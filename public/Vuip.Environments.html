<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">Vuip.Environments</h1>

<div class="code">
</div>

<div class="doc">
An environment is a multiset of formulas.
    This file links up the multisets from stdpp with
    the multisets from CoLoR:
    The stdpp multisets provide useful tactics, while
    CoLoR proves that well-foundedness of an ordering
    lifts to the set of multi-sets over that order.
<div class="paragraph"> </div>

 Notion of wellfoundedness 
</div>
<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Program.Wf.html#"><span class="id" title="library">Coq.Program.Wf</span></a>.<br/>

<br/>
</div>

<div class="doc">
Stdpp implementation of multisets 
</div>
<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="library">stdpp.gmultiset</span>.<br/>

<br/>
</div>

<div class="doc">
Proof that ordering on multisets is wellfounded from CoLoR 
</div>
<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">CoLoR.Util.Multiset.MultisetOrder</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">CoLoR.Util.Multiset.MultisetCore</span>.<br/>

<br/>
</div>

<div class="doc">
Our propositional formulas, including their countability. 
</div>
<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="Vuip.Formulas.html#"><span class="id" title="library">Vuip.Formulas</span></a>.<br/>

<br/>
</div>

<div class="doc">
An environment is a finite multiset of formulas
(in the sense of the stdpp library).
This requires decidable equality and countability. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="env" class="idref" href="#env"><span class="id" title="definition">env</span></a> := @<span class="id" title="record">gmultiset</span> <a class="idref" href="Vuip.Formulas.html#formula"><span class="id" title="inductive">formula</span></a> <a class="idref" href="Vuip.Formulas.html#formula_eq_dec"><span class="id" title="instance">formula_eq_dec</span></a> <a class="idref" href="Vuip.Formulas.html#formula_count"><span class="id" title="instance">formula_count</span></a>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="singleton" class="idref" href="#singleton"><span class="id" title="instance">singleton</span></a> : <span class="id" title="class">Singleton</span> <a class="idref" href="Vuip.Formulas.html#formula"><span class="id" title="inductive">formula</span></a> <a class="idref" href="Vuip.Environments.html#env"><span class="id" title="definition">env</span></a> := <span class="id" title="instance">gmultiset_singleton</span>.<br/>
<span class="id" title="keyword">Global Instance</span> <a id="singletonMS" class="idref" href="#singletonMS"><span class="id" title="instance">singletonMS</span></a> : <span class="id" title="class">SingletonMS</span> <a class="idref" href="Vuip.Formulas.html#formula"><span class="id" title="inductive">formula</span></a> <a class="idref" href="Vuip.Environments.html#env"><span class="id" title="definition">env</span></a> := <span class="id" title="definition">base.singleton</span>.<br/>

<br/>
</div>

<div class="doc">
We now show that our env is also a multiset in the sense of CoLoR, so that
we can use the wellfoundedness proof from CoLoR and the multiset tactics and
notations from stdpp. 
</div>
<div class="code">
<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Export</span> <a id="EnvMS" class="idref" href="#EnvMS"><span class="id" title="module">EnvMS</span></a> &lt;: <span class="id" title="module">MultisetCore</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Module</span> <a id="EnvMS.Sid" class="idref" href="#EnvMS.Sid"><span class="id" title="module">Sid</span></a> &lt;: <span class="id" title="module">RelExtras.Eqset_dec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Export</span> <a id="EnvMS.Sid.Dom" class="idref" href="#EnvMS.Sid.Dom"><span class="id" title="module">Dom</span></a>. <span class="id" title="keyword">Definition</span> <a id="EnvMS.Sid.Dom.A" class="idref" href="#EnvMS.Sid.Dom.A"><span class="id" title="definition">A</span></a> : <span class="id" title="keyword">Type</span> := <a class="idref" href="Vuip.Formulas.html#formula"><span class="id" title="inductive">formula</span></a>. <span class="id" title="keyword">End</span> <a class="idref" href="Vuip.Environments.html#EnvMS.Sid.Dom"><span class="id" title="module">Dom</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Export</span> <a id="EnvMS.Sid.Eq" class="idref" href="#EnvMS.Sid.Eq"><span class="id" title="module">Eq</span></a> := <span class="id" title="module">Relation.RelExtras.Eqset_def</span> <a class="idref" href="Vuip.Environments.html#EnvMS.Sid.Dom"><span class="id" title="module">Dom</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="EnvMS.Sid.eqA_dec" class="idref" href="#EnvMS.Sid.eqA_dec"><span class="id" title="definition">eqA_dec</span></a> := <a class="idref" href="Vuip.Formulas.html#formula_eq_dec"><span class="id" title="instance">formula_eq_dec</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="Vuip.Environments.html#EnvMS.Sid"><span class="id" title="module">Sid</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="EnvMS.Multiset" class="idref" href="#EnvMS.Multiset"><span class="id" title="definition">Multiset</span></a> := <a class="idref" href="Vuip.Environments.html#env"><span class="id" title="definition">env</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="EnvMS.mult" class="idref" href="#EnvMS.mult"><span class="id" title="definition">mult</span></a> : <a class="idref" href="Vuip.Formulas.html#formula"><span class="id" title="inductive">formula</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Vuip.Environments.html#EnvMS.Multiset"><span class="id" title="definition">Multiset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> := <span class="id" title="definition">multiplicity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="EnvMS.meq" class="idref" href="#EnvMS.meq"><span class="id" title="definition">meq</span></a> := <span class="id" title="notation">(≡@{</span><a class="idref" href="Vuip.Environments.html#env"><span class="id" title="definition">env</span></a><span class="id" title="notation">})</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="EnvMS.empty" class="idref" href="#EnvMS.empty"><span class="id" title="definition">empty</span></a> := <span class="id" title="notation">∅</span> : <a class="idref" href="Vuip.Environments.html#env"><span class="id" title="definition">env</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="EnvMS.singleton" class="idref" href="#EnvMS.singleton"><span class="id" title="definition">singleton</span></a> (<a id="x:1" class="idref" href="#x:1"><span class="id" title="binder">x</span></a> : <a class="idref" href="Vuip.Formulas.html#formula"><span class="id" title="inductive">formula</span></a>) : <a class="idref" href="Vuip.Environments.html#env"><span class="id" title="definition">env</span></a> := <span class="id" title="notation">{[</span> <a class="idref" href="Vuip.Environments.html#x:1"><span class="id" title="variable">x</span></a> <span class="id" title="notation">]}</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="EnvMS.union" class="idref" href="#EnvMS.union"><span class="id" title="definition">union</span></a> : <a class="idref" href="Vuip.Environments.html#env"><span class="id" title="definition">env</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Vuip.Environments.html#env"><span class="id" title="definition">env</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Vuip.Environments.html#env"><span class="id" title="definition">env</span></a> := <span class="id" title="definition">disj_union</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="EnvMS.intersection" class="idref" href="#EnvMS.intersection"><span class="id" title="definition">intersection</span></a> : <a class="idref" href="Vuip.Environments.html#env"><span class="id" title="definition">env</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Vuip.Environments.html#env"><span class="id" title="definition">env</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Vuip.Environments.html#env"><span class="id" title="definition">env</span></a> := <span class="id" title="definition">intersection</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="EnvMS.diff" class="idref" href="#EnvMS.diff"><span class="id" title="definition">diff</span></a> : <a class="idref" href="Vuip.Environments.html#env"><span class="id" title="definition">env</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Vuip.Environments.html#env"><span class="id" title="definition">env</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Vuip.Environments.html#env"><span class="id" title="definition">env</span></a> := <span class="id" title="definition">difference</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="EnvMS.mult_eqA_compat" class="idref" href="#EnvMS.mult_eqA_compat"><span class="id" title="lemma">mult_eqA_compat</span></a> <a id="M:2" class="idref" href="#M:2"><span class="id" title="binder">M</span></a> <a id="x:3" class="idref" href="#x:3"><span class="id" title="binder">x</span></a> <a id="y:4" class="idref" href="#y:4"><span class="id" title="binder">y</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Vuip.Environments.html#x:3"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Vuip.Environments.html#y:4"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Vuip.Environments.html#EnvMS.mult"><span class="id" title="definition">mult</span></a> <a class="idref" href="Vuip.Environments.html#x:3"><span class="id" title="variable">x</span></a> <a class="idref" href="Vuip.Environments.html#M:2"><span class="id" title="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Vuip.Environments.html#EnvMS.mult"><span class="id" title="definition">mult</span></a> <a class="idref" href="Vuip.Environments.html#y:4"><span class="id" title="variable">y</span></a> <a class="idref" href="Vuip.Environments.html#M:2"><span class="id" title="variable">M</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intro</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">subst</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="EnvMS.meq_multeq" class="idref" href="#EnvMS.meq_multeq"><span class="id" title="lemma">meq_multeq</span></a> <a id="M:5" class="idref" href="#M:5"><span class="id" title="binder">M</span></a> <a id="N:6" class="idref" href="#N:6"><span class="id" title="binder">N</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Vuip.Environments.html#M:5"><span class="id" title="variable">M</span></a> <span class="id" title="notation">≡</span> <a class="idref" href="Vuip.Environments.html#N:6"><span class="id" title="variable">N</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="notation">forall</span> <a id="x:7" class="idref" href="#x:7"><span class="id" title="binder">x</span></a><span class="id" title="notation">,</span> <a class="idref" href="Vuip.Environments.html#EnvMS.mult"><span class="id" title="definition">mult</span></a> <a class="idref" href="Vuip.Environments.html#x:7"><span class="id" title="variable">x</span></a> <a class="idref" href="Vuip.Environments.html#M:5"><span class="id" title="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Vuip.Environments.html#EnvMS.mult"><span class="id" title="definition">mult</span></a> <a class="idref" href="Vuip.Environments.html#x:7"><span class="id" title="variable">x</span></a> <a class="idref" href="Vuip.Environments.html#N:6"><span class="id" title="variable">N</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">Heq</span>; <span class="id" title="var">multiset_solver</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="EnvMS.multeq_meq" class="idref" href="#EnvMS.multeq_meq"><span class="id" title="lemma">multeq_meq</span></a> <a id="M:8" class="idref" href="#M:8"><span class="id" title="binder">M</span></a> <a id="N:9" class="idref" href="#N:9"><span class="id" title="binder">N</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="notation">forall</span> <a id="x:10" class="idref" href="#x:10"><span class="id" title="binder">x</span></a><span class="id" title="notation">,</span> <a class="idref" href="Vuip.Environments.html#EnvMS.mult"><span class="id" title="definition">mult</span></a> <a class="idref" href="Vuip.Environments.html#x:10"><span class="id" title="variable">x</span></a> <a class="idref" href="Vuip.Environments.html#M:8"><span class="id" title="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Vuip.Environments.html#EnvMS.mult"><span class="id" title="definition">mult</span></a> <a class="idref" href="Vuip.Environments.html#x:10"><span class="id" title="variable">x</span></a> <a class="idref" href="Vuip.Environments.html#N:9"><span class="id" title="variable">N</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Vuip.Environments.html#M:8"><span class="id" title="variable">M</span></a> <span class="id" title="notation">≡</span>  <a class="idref" href="Vuip.Environments.html#N:9"><span class="id" title="variable">N</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">multiset_solver</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="EnvMS.empty_mult" class="idref" href="#EnvMS.empty_mult"><span class="id" title="lemma">empty_mult</span></a> (<a id="x:11" class="idref" href="#x:11"><span class="id" title="binder">x</span></a> : <a class="idref" href="Vuip.Formulas.html#formula"><span class="id" title="inductive">formula</span></a>): <a class="idref" href="Vuip.Environments.html#EnvMS.mult"><span class="id" title="definition">mult</span></a> <a class="idref" href="Vuip.Environments.html#x:11"><span class="id" title="variable">x</span></a> (<span class="id" title="notation">∅</span> : <a class="idref" href="Vuip.Environments.html#env"><span class="id" title="definition">env</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">multiset_solver</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="EnvMS.union_mult" class="idref" href="#EnvMS.union_mult"><span class="id" title="lemma">union_mult</span></a> <a id="M:12" class="idref" href="#M:12"><span class="id" title="binder">M</span></a> <a id="N:13" class="idref" href="#N:13"><span class="id" title="binder">N</span></a> (<a id="x:14" class="idref" href="#x:14"><span class="id" title="binder">x</span></a> : <a class="idref" href="Vuip.Formulas.html#formula"><span class="id" title="inductive">formula</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Vuip.Environments.html#EnvMS.mult"><span class="id" title="definition">mult</span></a> <a class="idref" href="Vuip.Environments.html#x:14"><span class="id" title="variable">x</span></a> (<a class="idref" href="Vuip.Environments.html#M:12"><span class="id" title="variable">M</span></a> <span class="id" title="notation">⊎</span> <a class="idref" href="Vuip.Environments.html#N:13"><span class="id" title="variable">N</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> (<a class="idref" href="Vuip.Environments.html#EnvMS.mult"><span class="id" title="definition">mult</span></a> <a class="idref" href="Vuip.Environments.html#x:14"><span class="id" title="variable">x</span></a> <a class="idref" href="Vuip.Environments.html#M:12"><span class="id" title="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="Vuip.Environments.html#EnvMS.mult"><span class="id" title="definition">mult</span></a> <a class="idref" href="Vuip.Environments.html#x:14"><span class="id" title="variable">x</span></a> <a class="idref" href="Vuip.Environments.html#N:13"><span class="id" title="variable">N</span></a>)%<span class="id" title="var">nat</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">multiplicity_disj_union</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="EnvMS.diff_mult" class="idref" href="#EnvMS.diff_mult"><span class="id" title="lemma">diff_mult</span></a> <a id="M:15" class="idref" href="#M:15"><span class="id" title="binder">M</span></a> <a id="N:16" class="idref" href="#N:16"><span class="id" title="binder">N</span></a> (<a id="x:17" class="idref" href="#x:17"><span class="id" title="binder">x</span></a> : <a class="idref" href="Vuip.Formulas.html#formula"><span class="id" title="inductive">formula</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Vuip.Environments.html#EnvMS.mult"><span class="id" title="definition">mult</span></a> <a class="idref" href="Vuip.Environments.html#x:17"><span class="id" title="variable">x</span></a> (<a class="idref" href="Vuip.Environments.html#M:15"><span class="id" title="variable">M</span></a> <span class="id" title="notation">∖</span> <a class="idref" href="Vuip.Environments.html#N:16"><span class="id" title="variable">N</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> (<a class="idref" href="Vuip.Environments.html#EnvMS.mult"><span class="id" title="definition">mult</span></a> <a class="idref" href="Vuip.Environments.html#x:17"><span class="id" title="variable">x</span></a> <a class="idref" href="Vuip.Environments.html#M:15"><span class="id" title="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="Vuip.Environments.html#EnvMS.mult"><span class="id" title="definition">mult</span></a> <a class="idref" href="Vuip.Environments.html#x:17"><span class="id" title="variable">x</span></a> <a class="idref" href="Vuip.Environments.html#N:16"><span class="id" title="variable">N</span></a>)%<span class="id" title="var">nat</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">multiplicity_difference</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="EnvMS.intersection_mult" class="idref" href="#EnvMS.intersection_mult"><span class="id" title="lemma">intersection_mult</span></a> (<a id="M:18" class="idref" href="#M:18"><span class="id" title="binder">M</span></a> <a id="N:19" class="idref" href="#N:19"><span class="id" title="binder">N</span></a> : <a class="idref" href="Vuip.Environments.html#env"><span class="id" title="definition">env</span></a>) (<a id="x:20" class="idref" href="#x:20"><span class="id" title="binder">x</span></a> : <a class="idref" href="Vuip.Formulas.html#formula"><span class="id" title="inductive">formula</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Vuip.Environments.html#EnvMS.mult"><span class="id" title="definition">mult</span></a> <a class="idref" href="Vuip.Environments.html#x:20"><span class="id" title="variable">x</span></a> (<a class="idref" href="Vuip.Environments.html#M:18"><span class="id" title="variable">M</span></a> <span class="id" title="notation">∩</span> <a class="idref" href="Vuip.Environments.html#N:19"><span class="id" title="variable">N</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Peano.html#min"><span class="id" title="abbreviation">min</span></a> (<a class="idref" href="Vuip.Environments.html#EnvMS.mult"><span class="id" title="definition">mult</span></a> <a class="idref" href="Vuip.Environments.html#x:20"><span class="id" title="variable">x</span></a> <a class="idref" href="Vuip.Environments.html#M:18"><span class="id" title="variable">M</span></a>) (<a class="idref" href="Vuip.Environments.html#EnvMS.mult"><span class="id" title="definition">mult</span></a> <a class="idref" href="Vuip.Environments.html#x:20"><span class="id" title="variable">x</span></a> <a class="idref" href="Vuip.Environments.html#N:19"><span class="id" title="variable">N</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">multiplicity_intersection</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="EnvMS.singleton_mult_in" class="idref" href="#EnvMS.singleton_mult_in"><span class="id" title="lemma">singleton_mult_in</span></a> (<a id="x:21" class="idref" href="#x:21"><span class="id" title="binder">x</span></a> <a id="y:22" class="idref" href="#y:22"><span class="id" title="binder">y</span></a>: <a class="idref" href="Vuip.Formulas.html#formula"><span class="id" title="inductive">formula</span></a>): <a class="idref" href="Vuip.Environments.html#x:21"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Vuip.Environments.html#y:22"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Vuip.Environments.html#EnvMS.mult"><span class="id" title="definition">mult</span></a> <a class="idref" href="Vuip.Environments.html#x:21"><span class="id" title="variable">x</span></a> <span class="id" title="notation">{[</span><a class="idref" href="Vuip.Environments.html#y:22"><span class="id" title="variable">y</span></a><span class="id" title="notation">]}</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Vuip.Environments.html#EnvMS.mult"><span class="id" title="definition">mult</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">multiplicity_singleton</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="EnvMS.singleton_mult_notin" class="idref" href="#EnvMS.singleton_mult_notin"><span class="id" title="lemma">singleton_mult_notin</span></a> (<a id="x:23" class="idref" href="#x:23"><span class="id" title="binder">x</span></a> <a id="y:24" class="idref" href="#y:24"><span class="id" title="binder">y</span></a>: <a class="idref" href="Vuip.Formulas.html#formula"><span class="id" title="inductive">formula</span></a>): <a class="idref" href="Vuip.Environments.html#x:23"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Vuip.Environments.html#y:24"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Vuip.Environments.html#EnvMS.mult"><span class="id" title="definition">mult</span></a> <a class="idref" href="Vuip.Environments.html#x:23"><span class="id" title="variable">x</span></a> <span class="id" title="notation">{[</span><a class="idref" href="Vuip.Environments.html#y:24"><span class="id" title="variable">y</span></a><span class="id" title="notation">]}</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">multiplicity_singleton_ne</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;reprove&nbsp;the&nbsp;following&nbsp;principles,&nbsp;proved&nbsp;in&nbsp;stdpp&nbsp;for&nbsp;Prop,&nbsp;but<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;we&nbsp;need&nbsp;them&nbsp;in&nbsp;Type&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="EnvMS.gmultiset_choose_or_empty" class="idref" href="#EnvMS.gmultiset_choose_or_empty"><span class="id" title="lemma">gmultiset_choose_or_empty</span></a> (<a id="X:25" class="idref" href="#X:25"><span class="id" title="binder">X</span></a> : <a class="idref" href="Vuip.Environments.html#env"><span class="id" title="definition">env</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f"><span class="id" title="notation">{</span></a><a id="x:26" class="idref" href="#x:26"><span class="id" title="binder">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f"><span class="id" title="notation">|</span></a> <a class="idref" href="Vuip.Environments.html#x:26"><span class="id" title="variable">x</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="Vuip.Environments.html#X:25"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">{</span></a><a class="idref" href="Vuip.Environments.html#X:25"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="notation">∅</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">}</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">elements</span> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [|<span class="id" title="var">x</span> <span class="id" title="var">l</span>] <span class="id" title="var">eqn</span>:<span class="id" title="var">HX</span>; [<span class="id" title="tactic">right</span>|<span class="id" title="tactic">left</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">gmultiset_elements_empty_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="lemma">gmultiset_elem_of_elements</span> <span class="id" title="var">x</span> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="definition">elements</span> <span class="id" title="var">X</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">l</span>). <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="EnvMS.mset_ind_type" class="idref" href="#EnvMS.mset_ind_type"><span class="id" title="definition">mset_ind_type</span></a> : <span class="id" title="notation">forall</span> <a id="P:27" class="idref" href="#P:27"><span class="id" title="binder">P</span></a> : <a class="idref" href="Vuip.Environments.html#env"><span class="id" title="definition">env</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Vuip.Environments.html#P:27"><span class="id" title="variable">P</span></a> <a class="idref" href="Vuip.Environments.html#EnvMS.empty"><span class="id" title="definition">empty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="notation">forall</span> <a id="M:28" class="idref" href="#M:28"><span class="id" title="binder">M</span></a> <a id="a:29" class="idref" href="#a:29"><span class="id" title="binder">a</span></a><span class="id" title="notation">,</span> <a class="idref" href="Vuip.Environments.html#P:27"><span class="id" title="variable">P</span></a> <a class="idref" href="Vuip.Environments.html#M:28"><span class="id" title="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Vuip.Environments.html#P:27"><span class="id" title="variable">P</span></a> (<a class="idref" href="Vuip.Environments.html#M:28"><span class="id" title="variable">M</span></a> <span class="id" title="notation">⊎</span> <span class="id" title="notation">{[</span><a class="idref" href="Vuip.Environments.html#a:29"><span class="id" title="variable">a</span></a><span class="id" title="notation">]}</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="notation">forall</span> <a id="M:30" class="idref" href="#M:30"><span class="id" title="binder">M</span></a><span class="id" title="notation">,</span> <a class="idref" href="Vuip.Environments.html#P:27"><span class="id" title="variable">P</span></a> <a class="idref" href="Vuip.Environments.html#M:30"><span class="id" title="variable">M</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">Hemp</span> <span class="id" title="var">Hinsert</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Wf.html#Fix"><span class="id" title="definition">Fix</span></a> <span class="id" title="lemma">gmultiset_wf</span> <span class="id" title="var">_</span> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Vuip.Environments.html#EnvMS.gmultiset_choose_or_empty"><span class="id" title="lemma">gmultiset_choose_or_empty</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">x</span> <span class="id" title="var">Hx</span>]| -&gt;]; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="lemma">gmultiset_disj_union_difference'</span> <span class="id" title="var">x</span> <span class="id" title="var">X</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="instance">gmultiset_disj_union_comm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hinsert</span>, <span class="id" title="var">IH</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">gmultiset_difference_subset</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">multiset_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Vuip.Environments.html#EnvMS"><span class="id" title="module">EnvMS</span></a>.<br/>

<br/>
<span class="id" title="keyword">Global Hint Unfold</span> <a class="idref" href="Vuip.Environments.html#mult"><span class="id" title="definition">mult</span></a> <a class="idref" href="Vuip.Environments.html#meq"><span class="id" title="definition">meq</span></a> <a class="idref" href="Vuip.Environments.html#empty"><span class="id" title="definition">empty</span></a> <a class="idref" href="Vuip.Environments.html#singleton"><span class="id" title="definition">singleton</span></a> <a class="idref" href="Vuip.Environments.html#union"><span class="id" title="definition">union</span></a> <a class="idref" href="Vuip.Environments.html#intersection"><span class="id" title="definition">intersection</span></a> <a class="idref" href="Vuip.Environments.html#diff"><span class="id" title="definition">diff</span></a> <a class="idref" href="Vuip.Environments.html#env"><span class="id" title="definition">env</span></a> <a class="idref" href="Vuip.Environments.html#A"><span class="id" title="definition">Sid.Eq.A</span></a> <a class="idref" href="Vuip.Environments.html#A"><span class="id" title="definition">Sid.Dom.A</span></a>: <span class="id" title="var">mset</span>.<br/>

<br/>
</div>

<div class="doc">
The module MO defines the multi-set ordering on multi-sets,
    which depends on giving an order on the base set (for us, formulas),
    and, crucially, contains the wellfoundedness theorem "mred_wf". 
</div>
<div class="code">
<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Export</span> <a id="MO" class="idref" href="#MO"><span class="id" title="module">MO</span></a> := <span class="id" title="module">MultisetOrder</span> <a class="idref" href="Vuip.Environments.html#EnvMS"><span class="id" title="module">EnvMS</span></a>. <span class="comment">(*&nbsp;for&nbsp;the&nbsp;well-foundedness&nbsp;*)</span><br/>

<br/>
<span class="comment">(*&nbsp;useful&nbsp;notations&nbsp;:<br/>
&nbsp;&nbsp;{<span class="inlinecode"></span> <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode"></span>}&nbsp;:&nbsp;singleton<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⊎&nbsp;:&nbsp;disjoint&nbsp;union<br/>
&nbsp;&nbsp;&nbsp;\:&nbsp;difference&nbsp;(setminus)<br/>
&nbsp;&nbsp;&nbsp;{<span class="inlinecode"></span> <span class="inlinecode"><span class="id" title="var">x</span>;</span> <span class="inlinecode"><span class="id" title="var">y</span>;</span> <span class="inlinecode">…</span> <span class="inlinecode"></span>}&nbsp;union&nbsp;of&nbsp;singletons<br/>
&nbsp;&nbsp;&nbsp;<span class="inlinecode">{[+</span> <span class="inlinecode"><span class="id" title="var">x</span>;</span> <span class="inlinecode"><span class="id" title="var">y</span>;</span> <span class="inlinecode">…</span> <span class="inlinecode">+]}</span>&nbsp;*disjoint*&nbsp;union&nbsp;of&nbsp;singletons<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⊂@&nbsp;:&nbsp;include<br/>
*)</span><br/>

<br/>
<span class="comment">(*&nbsp;weight&nbsp;function&nbsp;as&nbsp;defined&nbsp;in&nbsp;Dyckhoff&nbsp;Negri&nbsp;2000&nbsp;*)</span><br/>
<span class="id" title="keyword">Fixpoint</span> <a id="weight" class="idref" href="#weight"><span class="id" title="definition">weight</span></a> (<a id="f2658998386ba6ec5b1d05de441027d8" class="idref" href="#f2658998386ba6ec5b1d05de441027d8"><span class="id" title="binder">φ</span></a> : <a class="idref" href="Vuip.Formulas.html#formula"><span class="id" title="inductive">formula</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> := <span class="id" title="keyword">match</span> <a class="idref" href="Vuip.Environments.html#f2658998386ba6ec5b1d05de441027d8"><span class="id" title="variable">φ</span></a> <span class="id" title="keyword">with</span><br/>
| <a class="idref" href="Vuip.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a> =&gt; 1<br/>
| <a class="idref" href="Vuip.Formulas.html#Var"><span class="id" title="constructor">Var</span></a> <span class="id" title="var">_</span> =&gt; 1<br/>
| φ <a class="idref" href="Vuip.Formulas.html#7a630e21245026e1b75685a10a5ca45a"><span class="id" title="notation">∧</span></a> ψ =&gt; 2 <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="Vuip.Environments.html#weight:32"><span class="id" title="definition">weight</span></a> <a class="idref" href="Vuip.Environments.html#f2658998386ba6ec5b1d05de441027d8"><span class="id" title="variable">φ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="Vuip.Environments.html#weight:32"><span class="id" title="definition">weight</span></a> ψ<br/>
| φ <a class="idref" href="Vuip.Formulas.html#69989fa7eceaf90171daa1151728e2a6"><span class="id" title="notation">∨</span></a> ψ =&gt; 3 <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="Vuip.Environments.html#weight:32"><span class="id" title="definition">weight</span></a> <a class="idref" href="Vuip.Environments.html#f2658998386ba6ec5b1d05de441027d8"><span class="id" title="variable">φ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="Vuip.Environments.html#weight:32"><span class="id" title="definition">weight</span></a> ψ<br/>
| φ <a class="idref" href="Vuip.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> ψ =&gt; 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="Vuip.Environments.html#weight:32"><span class="id" title="definition">weight</span></a> <a class="idref" href="Vuip.Environments.html#f2658998386ba6ec5b1d05de441027d8"><span class="id" title="variable">φ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="Vuip.Environments.html#weight:32"><span class="id" title="definition">weight</span></a> ψ<br/>
<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="weight_pos" class="idref" href="#weight_pos"><span class="id" title="lemma">weight_pos</span></a> <a id="e1c460f07e68babf0246822351fc594f" class="idref" href="#e1c460f07e68babf0246822351fc594f"><span class="id" title="binder">φ</span></a> : <a class="idref" href="Vuip.Environments.html#weight"><span class="id" title="definition">weight</span></a> <a class="idref" href="Vuip.Environments.html#e1c460f07e68babf0246822351fc594f"><span class="id" title="variable">φ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">destruct</span> φ; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">lia</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Induction&nbsp;principle&nbsp;based&nbsp;on&nbsp;weight&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a id="weight_ind" class="idref" href="#weight_ind"><span class="id" title="definition">weight_ind</span></a> (<a id="P:35" class="idref" href="#P:35"><span class="id" title="binder">P</span></a> : <a class="idref" href="Vuip.Formulas.html#formula"><span class="id" title="inductive">formula</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>) :<br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="notation">forall</span> <a id="408413c8c4bbc5668231dde0f77682ef" class="idref" href="#408413c8c4bbc5668231dde0f77682ef"><span class="id" title="binder">ψ</span></a><span class="id" title="notation">,</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="e1547d3802f74ec75531c36840a5933f" class="idref" href="#e1547d3802f74ec75531c36840a5933f"><span class="id" title="binder">φ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Vuip.Environments.html#weight"><span class="id" title="definition">weight</span></a> <a class="idref" href="Vuip.Environments.html#e1547d3802f74ec75531c36840a5933f"><span class="id" title="variable">φ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="Vuip.Environments.html#weight"><span class="id" title="definition">weight</span></a> <a class="idref" href="Vuip.Environments.html#408413c8c4bbc5668231dde0f77682ef"><span class="id" title="variable">ψ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Vuip.Environments.html#P:35"><span class="id" title="variable">P</span></a> <a class="idref" href="Vuip.Environments.html#e1547d3802f74ec75531c36840a5933f"><span class="id" title="variable">φ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Vuip.Environments.html#P:35"><span class="id" title="variable">P</span></a> <a class="idref" href="Vuip.Environments.html#408413c8c4bbc5668231dde0f77682ef"><span class="id" title="variable">ψ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="45adcad7835e823452d48ee82b096bec" class="idref" href="#45adcad7835e823452d48ee82b096bec"><span class="id" title="binder">φ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="Vuip.Environments.html#P:35"><span class="id" title="variable">P</span></a> <a class="idref" href="Vuip.Environments.html#45adcad7835e823452d48ee82b096bec"><span class="id" title="variable">φ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hc</span> φ. <span class="id" title="var">remember</span> (<a class="idref" href="Vuip.Environments.html#weight"><span class="id" title="definition">weight</span></a> φ) <span class="id" title="keyword">as</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">Hw</span> : <a class="idref" href="Vuip.Environments.html#weight"><span class="id" title="definition">weight</span></a> φ <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8.html#3ccab6e0e5cec5d8305913b11c2aa678"><span class="id" title="notation">≤</span></a> <span class="id" title="var">w</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">now</span> <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Heqw</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> φ <span class="id" title="var">Hw</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">w</span>; <span class="id" title="tactic">intros</span> φ <span class="id" title="var">Hw</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> φ; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hw</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> φ; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hw</span>; <span class="id" title="tactic">trivial</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hc</span>; <span class="id" title="tactic">intros</span> φ <span class="id" title="var">Hw'</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">IHw</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hw'</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="formula_order" class="idref" href="#formula_order"><span class="id" title="definition">formula_order</span></a> <a id="f670e0558f9ccb8c272365f4c1295f3f" class="idref" href="#f670e0558f9ccb8c272365f4c1295f3f"><span class="id" title="binder">φ</span></a> <a id="87e278fadc620a32dd6fd12802eef4c1" class="idref" href="#87e278fadc620a32dd6fd12802eef4c1"><span class="id" title="binder">ψ</span></a> := <a class="idref" href="Vuip.Environments.html#weight"><span class="id" title="definition">weight</span></a> <a class="idref" href="Vuip.Environments.html#f670e0558f9ccb8c272365f4c1295f3f"><span class="id" title="variable">φ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> <a class="idref" href="Vuip.Environments.html#weight"><span class="id" title="definition">weight</span></a> <a class="idref" href="Vuip.Environments.html#87e278fadc620a32dd6fd12802eef4c1"><span class="id" title="variable">ψ</span></a>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="7f17e8aeae5f57f4c5284dd5e61bec0d" class="idref" href="#7f17e8aeae5f57f4c5284dd5e61bec0d"><span class="id" title="notation">&quot;</span></a>φ ≺f ψ" := (<a class="idref" href="Vuip.Environments.html#formula_order"><span class="id" title="definition">formula_order</span></a> ψ φ) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 149).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="env_order" class="idref" href="#env_order"><span class="id" title="definition">env_order</span></a> (<a id="2a787a075caaaff77edb51afaa922541" class="idref" href="#2a787a075caaaff77edb51afaa922541"><span class="id" title="binder">Γ</span></a> <a id="abd475c1ade3f0a792f8a54f840853b3" class="idref" href="#abd475c1ade3f0a792f8a54f840853b3"><span class="id" title="binder">Δ</span></a> : <a class="idref" href="Vuip.Environments.html#env"><span class="id" title="definition">env</span></a>): <span class="id" title="keyword">Prop</span> := <a class="idref" href="Vuip.Environments.html#MultisetGt"><span class="id" title="definition">MO.MultisetGt</span></a> <a class="idref" href="Vuip.Environments.html#formula_order"><span class="id" title="definition">formula_order</span></a> <a class="idref" href="Vuip.Environments.html#abd475c1ade3f0a792f8a54f840853b3"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Vuip.Environments.html#2a787a075caaaff77edb51afaa922541"><span class="id" title="variable">Γ</span></a>.<br/>
<span class="id" title="keyword">Infix</span> <a id="e87830648f12945c0aeb4eaf8e8aac32" class="idref" href="#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">&quot;</span></a>≺" := <a class="idref" href="Vuip.Environments.html#env_order"><span class="id" title="definition">env_order</span></a> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 150).<br/>

<br/>
<span class="id" title="keyword">Global Hint Unfold</span> <a class="idref" href="Vuip.Environments.html#formula_order"><span class="id" title="definition">formula_order</span></a> : <span class="id" title="var">mset</span>.<br/>
<span class="id" title="keyword">Global Hint Unfold</span> <span class="id" title="definition">base.singletonMS</span> : <span class="id" title="var">mset</span>.<br/>
<span class="id" title="keyword">Global Hint Unfold</span> <a class="idref" href="Vuip.Environments.html#singletonMS"><span class="id" title="instance">singletonMS</span></a> : <span class="id" title="var">mset</span>.<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">ms</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="definition">base.singletonMS</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Vuip.Environments.html#singletonMS"><span class="id" title="instance">singletonMS</span></a>; <span class="comment">(*&nbsp;necessary,&nbsp;not&nbsp;sure&nbsp;why&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="var">autounfold</span> <span class="id" title="keyword">with</span> <span class="id" title="var">mset</span> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;<span class="id" title="var">autounfold</span> <span class="id" title="keyword">with</span> <span class="id" title="var">mset</span>; <span class="id" title="var">multiset_solver</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="proper_elem_of" class="idref" href="#proper_elem_of"><span class="id" title="instance">proper_elem_of</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<span class="id" title="notation">(=)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="notation">(≡@{</span><a class="idref" href="Vuip.Environments.html#env"><span class="id" title="definition">env</span></a><span class="id" title="notation">})</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">(</span></a><span class="id" title="keyword">fun</span> <a id="x:43" class="idref" href="#x:43"><span class="id" title="binder">x</span></a> <a id="y:44" class="idref" href="#y:44"><span class="id" title="binder">y</span></a> =&gt; <a class="idref" href="Vuip.Environments.html#x:43"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="Vuip.Environments.html#y:44"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">)</span></a>) <span class="id" title="definition">elem_of</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Γ</span> <span class="id" title="var">Γ'</span> <span class="id" title="var">Heq</span> φ φ' <span class="id" title="var">Heq'</span>. <span class="id" title="var">ms</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="proper_disj_union" class="idref" href="#proper_disj_union"><span class="id" title="instance">proper_disj_union</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<span class="id" title="notation">(≡@{</span><a class="idref" href="Vuip.Environments.html#env"><span class="id" title="definition">env</span></a><span class="id" title="notation">})</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="notation">(≡@{</span><a class="idref" href="Vuip.Environments.html#env"><span class="id" title="definition">env</span></a><span class="id" title="notation">})</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="notation">(≡@{</span><a class="idref" href="Vuip.Environments.html#env"><span class="id" title="definition">env</span></a><span class="id" title="notation">})</span>) <span class="id" title="definition">disj_union</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Γ</span> <span class="id" title="var">Γ'</span> <span class="id" title="var">Heq</span> <span class="id" title="var">Δ</span> <span class="id" title="var">Δ'</span> <span class="id" title="var">Heq'</span>. <span class="id" title="var">ms</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;example&nbsp;of&nbsp;the&nbsp;multiset&nbsp;ordering&nbsp;*)</span><br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Lemma</span> <a id="example_multiset" class="idref" href="#example_multiset"><span class="id" title="lemma">example_multiset</span></a> : (<span class="id" title="notation">forall</span> <a id="f18b1995e554784eadfc79cc2a9ca539" class="idref" href="#f18b1995e554784eadfc79cc2a9ca539"><span class="id" title="binder">φ</span></a> <a id="54d43b755ac966af818b133b1f94d485" class="idref" href="#54d43b755ac966af818b133b1f94d485"><span class="id" title="binder">ψ</span></a>: <a class="idref" href="Vuip.Formulas.html#formula"><span class="id" title="inductive">formula</span></a><span class="id" title="notation">,</span> <span class="id" title="notation">{[</span> <a class="idref" href="Vuip.Environments.html#f18b1995e554784eadfc79cc2a9ca539"><span class="id" title="variable">φ</span></a><span class="id" title="notation">;</span> <a class="idref" href="Vuip.Environments.html#54d43b755ac966af818b133b1f94d485"><span class="id" title="variable">ψ</span></a> <span class="id" title="notation">]}</span> <a class="idref" href="Vuip.Environments.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">≺</span></a> <span class="id" title="notation">{[</span> <a class="idref" href="Vuip.Environments.html#f18b1995e554784eadfc79cc2a9ca539"><span class="id" title="variable">φ</span></a> <a class="idref" href="Vuip.Formulas.html#7a630e21245026e1b75685a10a5ca45a"><span class="id" title="notation">∧</span></a> <a class="idref" href="Vuip.Environments.html#54d43b755ac966af818b133b1f94d485"><span class="id" title="variable">ψ</span></a> <span class="id" title="notation">]}</span>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>.<br/>
<span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="Vuip.Environments.html#MSetRed"><span class="id" title="constructor">MSetRed</span></a> <span class="id" title="keyword">with</span>(<span class="id" title="var">X</span>:= <span class="id" title="notation">∅</span>) (<span class="id" title="var">a</span> := φ <a class="idref" href="Vuip.Formulas.html#7a630e21245026e1b75685a10a5ca45a"><span class="id" title="notation">∧</span></a> ψ) (<span class="id" title="var">Y</span> := <span class="id" title="notation">{[</span>φ<span class="id" title="notation">;</span> ψ<span class="id" title="notation">]}</span>).<br/>
<span class="id" title="var">ms</span>. <span class="id" title="var">ms</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">y</span> <span class="id" title="var">Hy</span>.<br/>
<span class="id" title="tactic">unfold</span> <a class="idref" href="Vuip.Environments.html#member"><span class="id" title="definition">MSet.member</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Peano.html#gt"><span class="id" title="definition">gt</span></a>, <a class="idref" href="Vuip.Environments.html#mult"><span class="id" title="definition">mult</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hy</span>.<br/>
<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="lemma">elem_of_multiplicity</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hy</span>. <span class="id" title="var">ms</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Here&nbsp;we&nbsp;use&nbsp;the&nbsp;theorem&nbsp;of&nbsp;CoLoR&nbsp;that&nbsp;multiset&nbsp;ordering<br/>
&nbsp;&nbsp;&nbsp;over&nbsp;a&nbsp;well-founded&nbsp;ordering&nbsp;(weight)&nbsp;is&nbsp;again&nbsp;well-founded&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a id="wf_dyckhoff" class="idref" href="#wf_dyckhoff"><span class="id" title="definition">wf_dyckhoff</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Wf.html#well_founded"><span class="id" title="definition">well_founded</span></a> <a class="idref" href="Vuip.Environments.html#env_order"><span class="id" title="definition">env_order</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Vuip.Environments.html#mord_wf"><span class="id" title="lemma">mord_wf</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="Vuip.Environments.html#eqA"><span class="id" title="definition">Sid.Eq.eqA</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">y</span> <span class="id" title="var">Heq</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Arith.Wf_nat.html#well_founded_lt_compat"><span class="id" title="lemma">well_founded_lt_compat</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">f</span> := <a class="idref" href="Vuip.Environments.html#weight"><span class="id" title="definition">weight</span></a>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Global</span> <span class="id" title="keyword">Notation</span> "Γ • φ" := (<span class="id" title="definition">disj_union</span> <span class="id" title="var">Γ</span> (<span class="id" title="definition">base.singletonMS</span> φ)) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 105, φ <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 85, <span class="id" title="tactic">left</span> <span class="id" title="keyword">associativity</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="env_replace" class="idref" href="#env_replace"><span class="id" title="lemma">env_replace</span></a> {<a id="5ad52fece539cdfafd10b44fadcacfe3" class="idref" href="#5ad52fece539cdfafd10b44fadcacfe3"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="Vuip.Environments.html#env"><span class="id" title="definition">env</span></a>} <a id="1ba7e817658b9b19d6f7c0be467a6b9b" class="idref" href="#1ba7e817658b9b19d6f7c0be467a6b9b"><span class="id" title="binder">φ</span></a> {<a id="4bce4449a63001cd3c86a2120e02c23a" class="idref" href="#4bce4449a63001cd3c86a2120e02c23a"><span class="id" title="binder">ψ</span></a> : <a class="idref" href="Vuip.Formulas.html#formula"><span class="id" title="inductive">formula</span></a>}:<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Vuip.Environments.html#4bce4449a63001cd3c86a2120e02c23a"><span class="id" title="variable">ψ</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="Vuip.Environments.html#5ad52fece539cdfafd10b44fadcacfe3"><span class="id" title="variable">Γ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="notation">(</span><a class="idref" href="Vuip.Environments.html#5ad52fece539cdfafd10b44fadcacfe3"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Vuip.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="Vuip.Environments.html#1ba7e817658b9b19d6f7c0be467a6b9b"><span class="id" title="variable">φ</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span><a class="idref" href="Vuip.Environments.html#4bce4449a63001cd3c86a2120e02c23a"><span class="id" title="variable">ψ</span></a><span class="id" title="notation">]}</span> <span class="id" title="notation">≡</span> <span class="id" title="notation">(</span><a class="idref" href="Vuip.Environments.html#5ad52fece539cdfafd10b44fadcacfe3"><span class="id" title="variable">Γ</span></a> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span><a class="idref" href="Vuip.Environments.html#4bce4449a63001cd3c86a2120e02c23a"><span class="id" title="variable">ψ</span></a><span class="id" title="notation">]}</span> <a class="idref" href="Vuip.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="Vuip.Environments.html#1ba7e817658b9b19d6f7c0be467a6b9b"><span class="id" title="variable">φ</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intro</span> <span class="id" title="var">Hin</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="Vuip.Environments.html#multeq_meq"><span class="id" title="lemma">multeq_meq</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">θ</span>.<br/>
<span class="id" title="tactic">rewrite</span> <a class="idref" href="Vuip.Environments.html#diff_mult"><span class="id" title="lemma">diff_mult</span></a>, <a class="idref" href="Vuip.Environments.html#union_mult"><span class="id" title="lemma">union_mult</span></a>, <a class="idref" href="Vuip.Environments.html#union_mult"><span class="id" title="lemma">union_mult</span></a>, <a class="idref" href="Vuip.Environments.html#diff_mult"><span class="id" title="lemma">diff_mult</span></a>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_sub_swap"><span class="id" title="lemma">PeanoNat.Nat.add_sub_swap</span></a>.<br/>
<span class="id" title="tactic">case</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">θ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> ψ)); <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">subst</span>.<br/>
- <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Vuip.Environments.html#singleton_mult_in"><span class="id" title="lemma">singleton_mult_in</span></a>.<br/>
- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Vuip.Environments.html#singleton_mult_notin"><span class="id" title="lemma">singleton_mult_notin</span></a>; <span class="id" title="tactic">trivial</span>. <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;util&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="diff_not_in" class="idref" href="#diff_not_in"><span class="id" title="lemma">diff_not_in</span></a> (<a id="893aef7061fe05b037fc27cff76f1e6f" class="idref" href="#893aef7061fe05b037fc27cff76f1e6f"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="Vuip.Environments.html#env"><span class="id" title="definition">env</span></a>) <a id="df3b3e3792d9f92ed8047d8c01cbf6a0" class="idref" href="#df3b3e3792d9f92ed8047d8c01cbf6a0"><span class="id" title="binder">φ</span></a> : <a class="idref" href="Vuip.Environments.html#df3b3e3792d9f92ed8047d8c01cbf6a0"><span class="id" title="variable">φ</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="Vuip.Environments.html#893aef7061fe05b037fc27cff76f1e6f"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Vuip.Environments.html#893aef7061fe05b037fc27cff76f1e6f"><span class="id" title="variable">Γ</span></a> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span><a class="idref" href="Vuip.Environments.html#df3b3e3792d9f92ed8047d8c01cbf6a0"><span class="id" title="variable">φ</span></a><span class="id" title="notation">]}</span> <span class="id" title="notation">≡</span> <a class="idref" href="Vuip.Environments.html#893aef7061fe05b037fc27cff76f1e6f"><span class="id" title="variable">Γ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intro</span> <span class="id" title="var">Hf</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Vuip.Environments.html#multeq_meq"><span class="id" title="lemma">multeq_meq</span></a>. <span class="id" title="tactic">intros</span> ψ.<br/>
<span class="id" title="tactic">rewrite</span> <a class="idref" href="Vuip.Environments.html#diff_mult"><span class="id" title="lemma">diff_mult</span></a>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="lemma">elem_of_multiplicity</span> φ <span class="id" title="var">Γ</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hf</span>.<br/>
<span class="id" title="tactic">unfold</span> <a class="idref" href="Vuip.Environments.html#mult"><span class="id" title="definition">mult</span></a>.<br/>
<span class="id" title="tactic">case</span> (<span class="id" title="definition">decide</span> (φ <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> ψ)).<br/>
- <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="var">lia</span>.<br/>
- <span class="id" title="tactic">intro</span> <span class="id" title="var">Hneq</span>. <span class="id" title="tactic">setoid_rewrite</span> (<span class="id" title="lemma">multiplicity_singleton_ne</span> ψ φ); <span class="id" title="tactic">trivial</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="irreducible" class="idref" href="#irreducible"><span class="id" title="definition">irreducible</span></a> (<a id="60ffb00576919416289d5bb12a3b56d1" class="idref" href="#60ffb00576919416289d5bb12a3b56d1"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="Vuip.Environments.html#env"><span class="id" title="definition">env</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="p:53" class="idref" href="#p:53"><span class="id" title="binder">p</span></a> <a id="772bc84a81c4525400b2d7aca7035ca6" class="idref" href="#772bc84a81c4525400b2d7aca7035ca6"><span class="id" title="binder">φ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <span class="id" title="notation">(</span><a class="idref" href="Vuip.Formulas.html#Var"><span class="id" title="constructor">Var</span></a> <a class="idref" href="Vuip.Environments.html#p:53"><span class="id" title="variable">p</span></a> <a class="idref" href="Vuip.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> <a class="idref" href="Vuip.Environments.html#772bc84a81c4525400b2d7aca7035ca6"><span class="id" title="variable">φ</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">∈</span> <a class="idref" href="Vuip.Environments.html#60ffb00576919416289d5bb12a3b56d1"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <a class="idref" href="Vuip.Formulas.html#Var"><span class="id" title="constructor">Var</span></a> <a class="idref" href="Vuip.Environments.html#p:53"><span class="id" title="variable">p</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="Vuip.Environments.html#60ffb00576919416289d5bb12a3b56d1"><span class="id" title="variable">Γ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <a class="idref" href="Vuip.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="Vuip.Environments.html#60ffb00576919416289d5bb12a3b56d1"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="ac51094cc4b65e3dd8a5369ad6030692" class="idref" href="#ac51094cc4b65e3dd8a5369ad6030692"><span class="id" title="binder">φ</span></a> <a id="943a3b50d9857a2fa64c67999f0e2abc" class="idref" href="#943a3b50d9857a2fa64c67999f0e2abc"><span class="id" title="binder">ψ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <span class="id" title="notation">(</span><a class="idref" href="Vuip.Environments.html#ac51094cc4b65e3dd8a5369ad6030692"><span class="id" title="variable">φ</span></a> <a class="idref" href="Vuip.Formulas.html#7a630e21245026e1b75685a10a5ca45a"><span class="id" title="notation">∧</span></a> <a class="idref" href="Vuip.Environments.html#943a3b50d9857a2fa64c67999f0e2abc"><span class="id" title="variable">ψ</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">∈</span> <a class="idref" href="Vuip.Environments.html#60ffb00576919416289d5bb12a3b56d1"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <span class="id" title="notation">(</span><a class="idref" href="Vuip.Environments.html#ac51094cc4b65e3dd8a5369ad6030692"><span class="id" title="variable">φ</span></a> <a class="idref" href="Vuip.Formulas.html#69989fa7eceaf90171daa1151728e2a6"><span class="id" title="notation">∨</span></a> <a class="idref" href="Vuip.Environments.html#943a3b50d9857a2fa64c67999f0e2abc"><span class="id" title="variable">ψ</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">∈</span> <a class="idref" href="Vuip.Environments.html#60ffb00576919416289d5bb12a3b56d1"><span class="id" title="variable">Γ</span></a>.<br/>

<br/>
</div>

<div class="doc">
we use binary conjunction and disjunction operations which produce simpler equivalent formulas,
   in particular  by taking ⊥ and ⊤ into account 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="make_conj" class="idref" href="#make_conj"><span class="id" title="definition">make_conj</span></a> <a id="x:57" class="idref" href="#x:57"><span class="id" title="binder">x</span></a> <a id="y:58" class="idref" href="#y:58"><span class="id" title="binder">y</span></a> := <span class="id" title="keyword">match</span> <a class="idref" href="Vuip.Environments.html#x:57"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">with</span><br/>
| <a class="idref" href="Vuip.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a> =&gt; <a class="idref" href="Vuip.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a><br/>
|  (<a class="idref" href="Vuip.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a><a class="idref" href="Vuip.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> <a class="idref" href="Vuip.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a>)  =&gt; <a class="idref" href="Vuip.Environments.html#y:58"><span class="id" title="variable">y</span></a><br/>
| <span class="id" title="var">_</span> =&gt; <span class="id" title="keyword">match</span> <a class="idref" href="Vuip.Environments.html#y:58"><span class="id" title="variable">y</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Vuip.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a> =&gt; <a class="idref" href="Vuip.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| (<a class="idref" href="Vuip.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a><a class="idref" href="Vuip.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> <a class="idref" href="Vuip.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a>)  =&gt; <a class="idref" href="Vuip.Environments.html#x:57"><span class="id" title="variable">x</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt;  <span class="id" title="keyword">if</span> <span class="id" title="definition">decide</span> (<a class="idref" href="Vuip.Environments.html#x:57"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Vuip.Environments.html#y:58"><span class="id" title="variable">y</span></a>) <span class="id" title="keyword">then</span> <a class="idref" href="Vuip.Environments.html#x:57"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="Vuip.Environments.html#x:57"><span class="id" title="variable">x</span></a> <a class="idref" href="Vuip.Formulas.html#7a630e21245026e1b75685a10a5ca45a"><span class="id" title="notation">∧</span></a> <a class="idref" href="Vuip.Environments.html#y:58"><span class="id" title="variable">y</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Infix</span> <a id="137f50a6b392a042c683ddbcfa4be3c9" class="idref" href="#137f50a6b392a042c683ddbcfa4be3c9"><span class="id" title="notation">&quot;</span></a>⊼" := <a class="idref" href="Vuip.Environments.html#make_conj"><span class="id" title="definition">make_conj</span></a> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 60).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="make_conj_spec" class="idref" href="#make_conj_spec"><span class="id" title="lemma">make_conj_spec</span></a> <a id="x:61" class="idref" href="#x:61"><span class="id" title="binder">x</span></a> <a id="y:62" class="idref" href="#y:62"><span class="id" title="binder">y</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="Vuip.Environments.html#x:61"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Vuip.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="Vuip.Environments.html#x:61"><span class="id" title="variable">x</span></a> <a class="idref" href="Vuip.Environments.html#137f50a6b392a042c683ddbcfa4be3c9"><span class="id" title="notation">⊼</span></a> <a class="idref" href="Vuip.Environments.html#y:62"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Vuip.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">+</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="Vuip.Environments.html#x:61"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Vuip.Formulas.html#276a4a3018138118cad52558d0b71a10"><span class="id" title="notation">⊤</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="Vuip.Environments.html#x:61"><span class="id" title="variable">x</span></a>  <a class="idref" href="Vuip.Environments.html#137f50a6b392a042c683ddbcfa4be3c9"><span class="id" title="notation">⊼</span></a> <a class="idref" href="Vuip.Environments.html#y:62"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Vuip.Environments.html#y:62"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">+</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">{</span></a><a class="idref" href="Vuip.Environments.html#y:62"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Vuip.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="Vuip.Environments.html#x:61"><span class="id" title="variable">x</span></a> <a class="idref" href="Vuip.Environments.html#137f50a6b392a042c683ddbcfa4be3c9"><span class="id" title="notation">⊼</span></a> <a class="idref" href="Vuip.Environments.html#y:62"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Vuip.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">}+</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">{</span></a><a class="idref" href="Vuip.Environments.html#y:62"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Vuip.Formulas.html#276a4a3018138118cad52558d0b71a10"><span class="id" title="notation">⊤</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="Vuip.Environments.html#x:61"><span class="id" title="variable">x</span></a> <a class="idref" href="Vuip.Environments.html#137f50a6b392a042c683ddbcfa4be3c9"><span class="id" title="notation">⊼</span></a> <a class="idref" href="Vuip.Environments.html#y:62"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Vuip.Environments.html#x:61"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">+</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">{</span></a><a class="idref" href="Vuip.Environments.html#x:61"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Vuip.Environments.html#y:62"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="Vuip.Environments.html#x:61"><span class="id" title="variable">x</span></a> <a class="idref" href="Vuip.Environments.html#137f50a6b392a042c683ddbcfa4be3c9"><span class="id" title="notation">⊼</span></a> <a class="idref" href="Vuip.Environments.html#y:62"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Vuip.Environments.html#x:61"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">+</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">{</span></a><a class="idref" href="Vuip.Environments.html#x:61"><span class="id" title="variable">x</span></a> <a class="idref" href="Vuip.Environments.html#137f50a6b392a042c683ddbcfa4be3c9"><span class="id" title="notation">⊼</span></a> <a class="idref" href="Vuip.Environments.html#y:62"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="Vuip.Environments.html#x:61"><span class="id" title="variable">x</span></a> <a class="idref" href="Vuip.Formulas.html#7a630e21245026e1b75685a10a5ca45a"><span class="id" title="notation">∧</span></a> <a class="idref" href="Vuip.Environments.html#y:62"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">unfold</span> <a class="idref" href="Vuip.Environments.html#make_conj"><span class="id" title="definition">make_conj</span></a>.<br/>
<span class="id" title="tactic">repeat</span> (<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> |- <span class="id" title="keyword">context</span>  [<span class="id" title="keyword">match</span> ?<span class="id" title="var">x</span> <span class="id" title="keyword">with</span> | <span class="id" title="var">_</span>  =&gt; <span class="id" title="var">_</span> <span class="id" title="keyword">end</span>] =&gt; <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">end</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="occurs_in_make_conj" class="idref" href="#occurs_in_make_conj"><span class="id" title="lemma">occurs_in_make_conj</span></a> <a id="v:63" class="idref" href="#v:63"><span class="id" title="binder">v</span></a> <a id="x:64" class="idref" href="#x:64"><span class="id" title="binder">x</span></a> <a id="y:65" class="idref" href="#y:65"><span class="id" title="binder">y</span></a> : <a class="idref" href="Vuip.Formulas.html#occurs_in"><span class="id" title="definition">occurs_in</span></a> <a class="idref" href="Vuip.Environments.html#v:63"><span class="id" title="variable">v</span></a> (<a class="idref" href="Vuip.Environments.html#x:64"><span class="id" title="variable">x</span></a> <a class="idref" href="Vuip.Environments.html#137f50a6b392a042c683ddbcfa4be3c9"><span class="id" title="notation">⊼</span></a> <a class="idref" href="Vuip.Environments.html#y:65"><span class="id" title="variable">y</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Vuip.Formulas.html#occurs_in"><span class="id" title="definition">occurs_in</span></a> <a class="idref" href="Vuip.Environments.html#v:63"><span class="id" title="variable">v</span></a> <a class="idref" href="Vuip.Environments.html#x:64"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="Vuip.Formulas.html#occurs_in"><span class="id" title="definition">occurs_in</span></a> <a class="idref" href="Vuip.Environments.html#v:63"><span class="id" title="variable">v</span></a> <a class="idref" href="Vuip.Environments.html#y:65"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">destruct</span> (<a class="idref" href="Vuip.Environments.html#make_conj_spec"><span class="id" title="lemma">make_conj_spec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) <span class="id" title="keyword">as</span> [[[[[<span class="id" title="var">Hm</span>|<span class="id" title="var">Hm</span>]|<span class="id" title="var">Hm</span>]|<span class="id" title="var">Hm</span>]|<span class="id" title="var">Hm</span>]|<span class="id" title="var">Hm</span>]; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
6:{ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hm</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">tauto</span>. }<br/>
<span class="id" title="var">all</span>:(<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hm</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Heq</span> <span class="id" title="var">Hm</span>]; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hm</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">tauto</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="make_disj" class="idref" href="#make_disj"><span class="id" title="definition">make_disj</span></a> <a id="x:66" class="idref" href="#x:66"><span class="id" title="binder">x</span></a> <a id="y:67" class="idref" href="#y:67"><span class="id" title="binder">y</span></a> := <span class="id" title="keyword">match</span> <a class="idref" href="Vuip.Environments.html#x:66"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">with</span><br/>
| <a class="idref" href="Vuip.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a> =&gt; <a class="idref" href="Vuip.Environments.html#y:67"><span class="id" title="variable">y</span></a><br/>
|  (<a class="idref" href="Vuip.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a><a class="idref" href="Vuip.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> <a class="idref" href="Vuip.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a>)  =&gt; (<a class="idref" href="Vuip.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a><a class="idref" href="Vuip.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> <a class="idref" href="Vuip.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a>)<br/>
| <span class="id" title="var">_</span> =&gt; <span class="id" title="keyword">match</span> <a class="idref" href="Vuip.Environments.html#y:67"><span class="id" title="variable">y</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Vuip.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a> =&gt; <a class="idref" href="Vuip.Environments.html#x:66"><span class="id" title="variable">x</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| (<a class="idref" href="Vuip.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a><a class="idref" href="Vuip.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> <a class="idref" href="Vuip.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a>)  =&gt; (<a class="idref" href="Vuip.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a><a class="idref" href="Vuip.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> <a class="idref" href="Vuip.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="keyword">if</span> <span class="id" title="definition">decide</span> (<a class="idref" href="Vuip.Environments.html#x:66"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Vuip.Environments.html#y:67"><span class="id" title="variable">y</span></a>) <span class="id" title="keyword">then</span> <a class="idref" href="Vuip.Environments.html#x:66"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="Vuip.Environments.html#x:66"><span class="id" title="variable">x</span></a> <a class="idref" href="Vuip.Formulas.html#69989fa7eceaf90171daa1151728e2a6"><span class="id" title="notation">∨</span></a> <a class="idref" href="Vuip.Environments.html#y:67"><span class="id" title="variable">y</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Infix</span> <a id="755dfd3416b2d1ec592af40df719cd5a" class="idref" href="#755dfd3416b2d1ec592af40df719cd5a"><span class="id" title="notation">&quot;</span></a>⊻" := <a class="idref" href="Vuip.Environments.html#make_disj"><span class="id" title="definition">make_disj</span></a> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 65).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="make_disj_spec" class="idref" href="#make_disj_spec"><span class="id" title="lemma">make_disj_spec</span></a> <a id="x:70" class="idref" href="#x:70"><span class="id" title="binder">x</span></a> <a id="y:71" class="idref" href="#y:71"><span class="id" title="binder">y</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="Vuip.Environments.html#x:70"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Vuip.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="Vuip.Environments.html#x:70"><span class="id" title="variable">x</span></a> <a class="idref" href="Vuip.Environments.html#755dfd3416b2d1ec592af40df719cd5a"><span class="id" title="notation">⊻</span></a> <a class="idref" href="Vuip.Environments.html#y:71"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Vuip.Environments.html#y:71"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">+</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="Vuip.Environments.html#x:70"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Vuip.Formulas.html#276a4a3018138118cad52558d0b71a10"><span class="id" title="notation">⊤</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="Vuip.Environments.html#x:70"><span class="id" title="variable">x</span></a> <a class="idref" href="Vuip.Environments.html#755dfd3416b2d1ec592af40df719cd5a"><span class="id" title="notation">⊻</span></a> <a class="idref" href="Vuip.Environments.html#y:71"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Vuip.Formulas.html#276a4a3018138118cad52558d0b71a10"><span class="id" title="notation">⊤</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">+</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">{</span></a><a class="idref" href="Vuip.Environments.html#y:71"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Vuip.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="Vuip.Environments.html#x:70"><span class="id" title="variable">x</span></a> <a class="idref" href="Vuip.Environments.html#755dfd3416b2d1ec592af40df719cd5a"><span class="id" title="notation">⊻</span></a> <a class="idref" href="Vuip.Environments.html#y:71"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Vuip.Environments.html#x:70"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">+</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">{</span></a><a class="idref" href="Vuip.Environments.html#y:71"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Vuip.Formulas.html#276a4a3018138118cad52558d0b71a10"><span class="id" title="notation">⊤</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="Vuip.Environments.html#x:70"><span class="id" title="variable">x</span></a> <a class="idref" href="Vuip.Environments.html#755dfd3416b2d1ec592af40df719cd5a"><span class="id" title="notation">⊻</span></a> <a class="idref" href="Vuip.Environments.html#y:71"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Vuip.Formulas.html#276a4a3018138118cad52558d0b71a10"><span class="id" title="notation">⊤</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">+</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">{</span></a><a class="idref" href="Vuip.Environments.html#x:70"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Vuip.Environments.html#y:71"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="Vuip.Environments.html#x:70"><span class="id" title="variable">x</span></a> <a class="idref" href="Vuip.Environments.html#755dfd3416b2d1ec592af40df719cd5a"><span class="id" title="notation">⊻</span></a> <a class="idref" href="Vuip.Environments.html#y:71"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Vuip.Environments.html#x:70"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">+</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">{</span></a><a class="idref" href="Vuip.Environments.html#x:70"><span class="id" title="variable">x</span></a> <a class="idref" href="Vuip.Environments.html#755dfd3416b2d1ec592af40df719cd5a"><span class="id" title="notation">⊻</span></a> <a class="idref" href="Vuip.Environments.html#y:71"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="Vuip.Environments.html#x:70"><span class="id" title="variable">x</span></a> <a class="idref" href="Vuip.Formulas.html#69989fa7eceaf90171daa1151728e2a6"><span class="id" title="notation">∨</span></a> <a class="idref" href="Vuip.Environments.html#y:71"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">unfold</span> <a class="idref" href="Vuip.Environments.html#make_disj"><span class="id" title="definition">make_disj</span></a>.<br/>
<span class="id" title="tactic">repeat</span> (<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> |- <span class="id" title="keyword">context</span>  [<span class="id" title="keyword">match</span> ?<span class="id" title="var">x</span> <span class="id" title="keyword">with</span> | <span class="id" title="var">_</span>  =&gt; <span class="id" title="var">_</span> <span class="id" title="keyword">end</span>] =&gt; <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">end</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="occurs_in_make_disj" class="idref" href="#occurs_in_make_disj"><span class="id" title="lemma">occurs_in_make_disj</span></a> <a id="v:72" class="idref" href="#v:72"><span class="id" title="binder">v</span></a> <a id="x:73" class="idref" href="#x:73"><span class="id" title="binder">x</span></a> <a id="y:74" class="idref" href="#y:74"><span class="id" title="binder">y</span></a> : <a class="idref" href="Vuip.Formulas.html#occurs_in"><span class="id" title="definition">occurs_in</span></a> <a class="idref" href="Vuip.Environments.html#v:72"><span class="id" title="variable">v</span></a> (<a class="idref" href="Vuip.Environments.html#x:73"><span class="id" title="variable">x</span></a> <a class="idref" href="Vuip.Environments.html#755dfd3416b2d1ec592af40df719cd5a"><span class="id" title="notation">⊻</span></a> <a class="idref" href="Vuip.Environments.html#y:74"><span class="id" title="variable">y</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Vuip.Formulas.html#occurs_in"><span class="id" title="definition">occurs_in</span></a> <a class="idref" href="Vuip.Environments.html#v:72"><span class="id" title="variable">v</span></a> <a class="idref" href="Vuip.Environments.html#x:73"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">∨</span></a> <a class="idref" href="Vuip.Formulas.html#occurs_in"><span class="id" title="definition">occurs_in</span></a> <a class="idref" href="Vuip.Environments.html#v:72"><span class="id" title="variable">v</span></a> <a class="idref" href="Vuip.Environments.html#y:74"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">destruct</span> (<a class="idref" href="Vuip.Environments.html#make_disj_spec"><span class="id" title="lemma">make_disj_spec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) <span class="id" title="keyword">as</span> [[[[[<span class="id" title="var">Hm</span>|<span class="id" title="var">Hm</span>]|<span class="id" title="var">Hm</span>]|<span class="id" title="var">Hm</span>]|<span class="id" title="var">Hm</span>]|<span class="id" title="var">Hm</span>]; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
6:{ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hm</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">tauto</span>. }<br/>
<span class="id" title="var">all</span>:(<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hm</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Heq</span> <span class="id" title="var">Hm</span>]; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hm</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">tauto</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;"lazy"&nbsp;implication,&nbsp;which&nbsp;produces&nbsp;a&nbsp;potentially&nbsp;simpler,&nbsp;equivalent&nbsp;formula&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a id="make_impl" class="idref" href="#make_impl"><span class="id" title="definition">make_impl</span></a> <a id="x:75" class="idref" href="#x:75"><span class="id" title="binder">x</span></a> <a id="y:76" class="idref" href="#y:76"><span class="id" title="binder">y</span></a> :=<br/>
<span class="id" title="keyword">match</span> <a class="idref" href="Vuip.Environments.html#x:75"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">with</span><br/>
| <a class="idref" href="Vuip.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a> =&gt; <a class="idref" href="Vuip.Formulas.html#276a4a3018138118cad52558d0b71a10"><span class="id" title="notation">⊤</span></a><br/>
| <span class="id" title="var">_</span> =&gt; <span class="id" title="keyword">match</span> <a class="idref" href="Vuip.Environments.html#y:76"><span class="id" title="variable">y</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Vuip.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a> <a class="idref" href="Vuip.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> <a class="idref" href="Vuip.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a> =&gt; <a class="idref" href="Vuip.Formulas.html#276a4a3018138118cad52558d0b71a10"><span class="id" title="notation">⊤</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="Vuip.Environments.html#x:75"><span class="id" title="variable">x</span></a> <a class="idref" href="Vuip.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> <a class="idref" href="Vuip.Environments.html#y:76"><span class="id" title="variable">y</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Infix</span> <a id="e11a273adc0648f21ffb62a003ec5cea" class="idref" href="#e11a273adc0648f21ffb62a003ec5cea"><span class="id" title="notation">&quot;</span></a>⇢" := <a class="idref" href="Vuip.Environments.html#make_impl"><span class="id" title="definition">make_impl</span></a> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 66).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="make_impl_spec" class="idref" href="#make_impl_spec"><span class="id" title="lemma">make_impl_spec</span></a> <a id="x:79" class="idref" href="#x:79"><span class="id" title="binder">x</span></a> <a id="y:80" class="idref" href="#y:80"><span class="id" title="binder">y</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="Vuip.Environments.html#x:79"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Vuip.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="Vuip.Environments.html#x:79"><span class="id" title="variable">x</span></a> <a class="idref" href="Vuip.Environments.html#e11a273adc0648f21ffb62a003ec5cea"><span class="id" title="notation">⇢</span></a> <a class="idref" href="Vuip.Environments.html#y:80"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Vuip.Formulas.html#276a4a3018138118cad52558d0b71a10"><span class="id" title="notation">⊤</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">+</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="Vuip.Environments.html#y:80"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Vuip.Formulas.html#276a4a3018138118cad52558d0b71a10"><span class="id" title="notation">⊤</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="Vuip.Environments.html#x:79"><span class="id" title="variable">x</span></a> <a class="idref" href="Vuip.Environments.html#e11a273adc0648f21ffb62a003ec5cea"><span class="id" title="notation">⇢</span></a> <a class="idref" href="Vuip.Environments.html#y:80"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Vuip.Formulas.html#276a4a3018138118cad52558d0b71a10"><span class="id" title="notation">⊤</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">+</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">{</span></a><a class="idref" href="Vuip.Environments.html#x:79"><span class="id" title="variable">x</span></a> <a class="idref" href="Vuip.Environments.html#e11a273adc0648f21ffb62a003ec5cea"><span class="id" title="notation">⇢</span></a> <a class="idref" href="Vuip.Environments.html#y:80"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="Vuip.Environments.html#x:79"><span class="id" title="variable">x</span></a> <a class="idref" href="Vuip.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> <a class="idref" href="Vuip.Environments.html#y:80"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">unfold</span> <a class="idref" href="Vuip.Environments.html#make_impl"><span class="id" title="definition">make_impl</span></a>.<br/>
<span class="id" title="tactic">repeat</span> (<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> |- <span class="id" title="keyword">context</span>  [<span class="id" title="keyword">match</span> ?<span class="id" title="var">x</span> <span class="id" title="keyword">with</span> | <span class="id" title="var">_</span>  =&gt; <span class="id" title="var">_</span> <span class="id" title="keyword">end</span>] =&gt; <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">end</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="occurs_in_make_impl" class="idref" href="#occurs_in_make_impl"><span class="id" title="lemma">occurs_in_make_impl</span></a> <a id="v:81" class="idref" href="#v:81"><span class="id" title="binder">v</span></a> <a id="x:82" class="idref" href="#x:82"><span class="id" title="binder">x</span></a> <a id="y:83" class="idref" href="#y:83"><span class="id" title="binder">y</span></a> : <a class="idref" href="Vuip.Formulas.html#occurs_in"><span class="id" title="definition">occurs_in</span></a> <a class="idref" href="Vuip.Environments.html#v:81"><span class="id" title="variable">v</span></a> (<a class="idref" href="Vuip.Environments.html#x:82"><span class="id" title="variable">x</span></a> <a class="idref" href="Vuip.Environments.html#e11a273adc0648f21ffb62a003ec5cea"><span class="id" title="notation">⇢</span></a> <a class="idref" href="Vuip.Environments.html#y:83"><span class="id" title="variable">y</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Vuip.Formulas.html#occurs_in"><span class="id" title="definition">occurs_in</span></a> <a class="idref" href="Vuip.Environments.html#v:81"><span class="id" title="variable">v</span></a> <a class="idref" href="Vuip.Environments.html#x:82"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">∨</span></a> <a class="idref" href="Vuip.Formulas.html#occurs_in"><span class="id" title="definition">occurs_in</span></a> <a class="idref" href="Vuip.Environments.html#v:81"><span class="id" title="variable">v</span></a> <a class="idref" href="Vuip.Environments.html#y:83"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">destruct</span> (<a class="idref" href="Vuip.Environments.html#make_impl_spec"><span class="id" title="lemma">make_impl_spec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Hm</span>|<span class="id" title="var">Hm</span>]|<span class="id" title="var">Hm</span>]; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
3:{ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hm</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">tauto</span>. }<br/>
<span class="id" title="var">all</span>:(<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hm</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Heq</span> <span class="id" title="var">Hm</span>]; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hm</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">tauto</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="occurs_in_make_impl2" class="idref" href="#occurs_in_make_impl2"><span class="id" title="lemma">occurs_in_make_impl2</span></a> <a id="v:84" class="idref" href="#v:84"><span class="id" title="binder">v</span></a> <a id="x:85" class="idref" href="#x:85"><span class="id" title="binder">x</span></a> <a id="y:86" class="idref" href="#y:86"><span class="id" title="binder">y</span></a> <a id="z:87" class="idref" href="#z:87"><span class="id" title="binder">z</span></a>: <a class="idref" href="Vuip.Formulas.html#occurs_in"><span class="id" title="definition">occurs_in</span></a> <a class="idref" href="Vuip.Environments.html#v:84"><span class="id" title="variable">v</span></a> (<a class="idref" href="Vuip.Environments.html#x:85"><span class="id" title="variable">x</span></a> <a class="idref" href="Vuip.Environments.html#e11a273adc0648f21ffb62a003ec5cea"><span class="id" title="notation">⇢</span></a> <a class="idref" href="Vuip.Environments.html#e11a273adc0648f21ffb62a003ec5cea"><span class="id" title="notation">(</span></a><a class="idref" href="Vuip.Environments.html#y:86"><span class="id" title="variable">y</span></a> <a class="idref" href="Vuip.Environments.html#e11a273adc0648f21ffb62a003ec5cea"><span class="id" title="notation">⇢</span></a> <a class="idref" href="Vuip.Environments.html#z:87"><span class="id" title="variable">z</span></a><a class="idref" href="Vuip.Environments.html#e11a273adc0648f21ffb62a003ec5cea"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Vuip.Formulas.html#occurs_in"><span class="id" title="definition">occurs_in</span></a> <a class="idref" href="Vuip.Environments.html#v:84"><span class="id" title="variable">v</span></a> <a class="idref" href="Vuip.Environments.html#x:85"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">∨</span></a> <a class="idref" href="Vuip.Formulas.html#occurs_in"><span class="id" title="definition">occurs_in</span></a> <a class="idref" href="Vuip.Environments.html#v:84"><span class="id" title="variable">v</span></a> <a class="idref" href="Vuip.Environments.html#y:86"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">∨</span></a> <a class="idref" href="Vuip.Formulas.html#occurs_in"><span class="id" title="definition">occurs_in</span></a> <a class="idref" href="Vuip.Environments.html#v:84"><span class="id" title="variable">v</span></a> <a class="idref" href="Vuip.Environments.html#z:87"><span class="id" title="variable">z</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Vuip.Environments.html#occurs_in_make_impl"><span class="id" title="lemma">occurs_in_make_impl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H</span>|<span class="id" title="var">H</span>]; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="Vuip.Environments.html#occurs_in_make_impl"><span class="id" title="lemma">occurs_in_make_impl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">tauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
To be noted: we remove duplicates first 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="conjunction" class="idref" href="#conjunction"><span class="id" title="definition">conjunction</span></a> <a id="l:88" class="idref" href="#l:88"><span class="id" title="binder">l</span></a> := <span class="id" title="definition">foldl</span> <a class="idref" href="Vuip.Environments.html#make_conj"><span class="id" title="definition">make_conj</span></a> (<a class="idref" href="Vuip.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a><a class="idref" href="Vuip.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> <a class="idref" href="Vuip.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Lists.List.html#nodup"><span class="id" title="definition">nodup</span></a> <a class="idref" href="Vuip.Formulas.html#formula_eq_dec"><span class="id" title="instance">formula_eq_dec</span></a> <a class="idref" href="Vuip.Environments.html#l:88"><span class="id" title="variable">l</span></a>).<br/>
<span class="id" title="keyword">Notation</span> <a id="477b8e4d1694e4a1d705e8bc8b366a21" class="idref" href="#477b8e4d1694e4a1d705e8bc8b366a21"><span class="id" title="notation">&quot;</span></a>⋀" := <a class="idref" href="Vuip.Environments.html#conjunction"><span class="id" title="definition">conjunction</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="disjunction" class="idref" href="#disjunction"><span class="id" title="definition">disjunction</span></a> <a id="l:89" class="idref" href="#l:89"><span class="id" title="binder">l</span></a> := <span class="id" title="definition">foldl</span> <a class="idref" href="Vuip.Environments.html#make_disj"><span class="id" title="definition">make_disj</span></a> <a class="idref" href="Vuip.Formulas.html#1a3a4fd597219ab65145ec13c238adc3"><span class="id" title="notation">⊥</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Lists.List.html#nodup"><span class="id" title="definition">nodup</span></a> <a class="idref" href="Vuip.Formulas.html#formula_eq_dec"><span class="id" title="instance">formula_eq_dec</span></a> <a class="idref" href="Vuip.Environments.html#l:89"><span class="id" title="variable">l</span></a>).<br/>
<span class="id" title="keyword">Notation</span> <a id="9392c2b2890c2b7f46c695283fb6e03f" class="idref" href="#9392c2b2890c2b7f46c695283fb6e03f"><span class="id" title="notation">&quot;</span></a>⋁" := <a class="idref" href="Vuip.Environments.html#disjunction"><span class="id" title="definition">disjunction</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;TODO&nbsp;the&nbsp;proof&nbsp;of&nbsp;this&nbsp;lemma&nbsp;could&nbsp;serve&nbsp;as&nbsp;template&nbsp;for&nbsp;other&nbsp;proofs.&nbsp;derive&nbsp;an&nbsp;induction&nbsp;principle?&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="variables_conjunction" class="idref" href="#variables_conjunction"><span class="id" title="lemma">variables_conjunction</span></a> <a id="x:90" class="idref" href="#x:90"><span class="id" title="binder">x</span></a> <a id="l:91" class="idref" href="#l:91"><span class="id" title="binder">l</span></a> : <a class="idref" href="Vuip.Formulas.html#occurs_in"><span class="id" title="definition">occurs_in</span></a> <a class="idref" href="Vuip.Environments.html#x:90"><span class="id" title="variable">x</span></a> (<a class="idref" href="Vuip.Environments.html#477b8e4d1694e4a1d705e8bc8b366a21"><span class="id" title="notation">⋀</span></a> <a class="idref" href="Vuip.Environments.html#477b8e4d1694e4a1d705e8bc8b366a21"><span class="id" title="notation">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="a6cd1b08d9450555c7d9308fd2cb2b0c" class="idref" href="#a6cd1b08d9450555c7d9308fd2cb2b0c"><span class="id" title="binder">φ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="Vuip.Environments.html#a6cd1b08d9450555c7d9308fd2cb2b0c"><span class="id" title="variable">φ</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="Vuip.Environments.html#l:91"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Vuip.Formulas.html#occurs_in"><span class="id" title="definition">occurs_in</span></a> <a class="idref" href="Vuip.Environments.html#x:90"><span class="id" title="variable">x</span></a> <a class="idref" href="Vuip.Environments.html#a6cd1b08d9450555c7d9308fd2cb2b0c"><span class="id" title="variable">φ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">unfold</span> <a class="idref" href="Vuip.Environments.html#conjunction"><span class="id" title="definition">conjunction</span></a>.<br/>
<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hcut</span> : <span class="id" title="notation">forall</span> <a id="8ef8ee5158076e640ef0b295544674fe" class="idref" href="#8ef8ee5158076e640ef0b295544674fe"><span class="id" title="binder">ψ</span></a><span class="id" title="notation">,</span> <a class="idref" href="Vuip.Formulas.html#occurs_in"><span class="id" title="definition">occurs_in</span></a> <span class="id" title="var">x</span> (<span class="id" title="definition">foldl</span> <a class="idref" href="Vuip.Environments.html#make_conj"><span class="id" title="definition">make_conj</span></a> <a class="idref" href="Vuip.Environments.html#8f915dae2bfe6b537ca003e857143588"><span class="id" title="variable">ψ</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Lists.List.html#nodup"><span class="id" title="definition">nodup</span></a> <a class="idref" href="Vuip.Formulas.html#formula_eq_dec"><span class="id" title="instance">formula_eq_dec</span></a> <span class="id" title="var">l</span>))<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Vuip.Formulas.html#occurs_in"><span class="id" title="definition">occurs_in</span></a> <span class="id" title="var">x</span> <a class="idref" href="Vuip.Environments.html#8f915dae2bfe6b537ca003e857143588"><span class="id" title="variable">ψ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="1e0a9817f89e7fbfbd1829d2818c44ee" class="idref" href="#1e0a9817f89e7fbfbd1829d2818c44ee"><span class="id" title="binder">φ</span></a> : <a class="idref" href="Vuip.Formulas.html#formula"><span class="id" title="inductive">formula</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> (<a class="idref" href="Vuip.Environments.html#d5b93cc29a7c58afda78c3e94af09715"><span class="id" title="variable">φ</span></a> <span class="id" title="notation">∈</span> <span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="Vuip.Formulas.html#occurs_in"><span class="id" title="definition">occurs_in</span></a> <span class="id" title="var">x</span> <a class="idref" href="Vuip.Environments.html#d5b93cc29a7c58afda78c3e94af09715"><span class="id" title="variable">φ</span></a>)%<span class="id" title="keyword">type</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a>).<br/>
{<br/>
<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span>.<br/>
- <span class="id" title="tactic">tauto</span>.<br/>
- <span class="id" title="tactic">intros</span> ψ <span class="id" title="var">Hocc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Lists.List.html#in_dec"><span class="id" title="lemma">in_dec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hocc</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">IHl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hocc</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hocc</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hocc</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hx</span>|(φ&amp;<span class="id" title="var">Hin</span>&amp;<span class="id" title="var">Hx</span>)]; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">exists</span> φ. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> *.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="Vuip.Environments.html#occurs_in_make_conj"><span class="id" title="lemma">occurs_in_make_conj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hx</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hx</span>|<span class="id" title="var">Hx</span>]; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> *.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">exists</span> φ. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> *.<br/>
}<br/>
<span class="id" title="tactic">intro</span> <span class="id" title="var">Hocc</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hcut</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hocc</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hocc</span>. <span class="id" title="tactic">tauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="variables_disjunction" class="idref" href="#variables_disjunction"><span class="id" title="lemma">variables_disjunction</span></a> <a id="x:97" class="idref" href="#x:97"><span class="id" title="binder">x</span></a> <a id="l:98" class="idref" href="#l:98"><span class="id" title="binder">l</span></a> : <a class="idref" href="Vuip.Formulas.html#occurs_in"><span class="id" title="definition">occurs_in</span></a> <a class="idref" href="Vuip.Environments.html#x:97"><span class="id" title="variable">x</span></a> (<a class="idref" href="Vuip.Environments.html#9392c2b2890c2b7f46c695283fb6e03f"><span class="id" title="notation">⋁</span></a> <a class="idref" href="Vuip.Environments.html#9392c2b2890c2b7f46c695283fb6e03f"><span class="id" title="notation">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="54d008a98fe9ec21d88bf6f9daacaf8f" class="idref" href="#54d008a98fe9ec21d88bf6f9daacaf8f"><span class="id" title="binder">φ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="Vuip.Environments.html#54d008a98fe9ec21d88bf6f9daacaf8f"><span class="id" title="variable">φ</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="Vuip.Environments.html#l:98"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Vuip.Formulas.html#occurs_in"><span class="id" title="definition">occurs_in</span></a> <a class="idref" href="Vuip.Environments.html#x:97"><span class="id" title="variable">x</span></a> <a class="idref" href="Vuip.Environments.html#54d008a98fe9ec21d88bf6f9daacaf8f"><span class="id" title="variable">φ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">unfold</span> <a class="idref" href="Vuip.Environments.html#disjunction"><span class="id" title="definition">disjunction</span></a>.<br/>
<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hcut</span> : <span class="id" title="notation">forall</span> <a id="57e2fc214b6293451e57fd88f61d6d21" class="idref" href="#57e2fc214b6293451e57fd88f61d6d21"><span class="id" title="binder">ψ</span></a><span class="id" title="notation">,</span> <a class="idref" href="Vuip.Formulas.html#occurs_in"><span class="id" title="definition">occurs_in</span></a> <span class="id" title="var">x</span> (<span class="id" title="definition">foldl</span> <a class="idref" href="Vuip.Environments.html#make_disj"><span class="id" title="definition">make_disj</span></a> <a class="idref" href="Vuip.Environments.html#6a9b2f61314dc4505e72b0ce33cd8b2f"><span class="id" title="variable">ψ</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Lists.List.html#nodup"><span class="id" title="definition">nodup</span></a> <a class="idref" href="Vuip.Formulas.html#formula_eq_dec"><span class="id" title="instance">formula_eq_dec</span></a> <span class="id" title="var">l</span>))<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Vuip.Formulas.html#occurs_in"><span class="id" title="definition">occurs_in</span></a> <span class="id" title="var">x</span> <a class="idref" href="Vuip.Environments.html#6a9b2f61314dc4505e72b0ce33cd8b2f"><span class="id" title="variable">ψ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="827390d1846c39ba54900e868e13aaeb" class="idref" href="#827390d1846c39ba54900e868e13aaeb"><span class="id" title="binder">φ</span></a> : <a class="idref" href="Vuip.Formulas.html#formula"><span class="id" title="inductive">formula</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> (<a class="idref" href="Vuip.Environments.html#87154c36829ecb25cae9c00e17fdff89"><span class="id" title="variable">φ</span></a> <span class="id" title="notation">∈</span> <span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="Vuip.Formulas.html#occurs_in"><span class="id" title="definition">occurs_in</span></a> <span class="id" title="var">x</span> <a class="idref" href="Vuip.Environments.html#87154c36829ecb25cae9c00e17fdff89"><span class="id" title="variable">φ</span></a>)%<span class="id" title="keyword">type</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a>).<br/>
{<br/>
<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span>.<br/>
- <span class="id" title="tactic">tauto</span>.<br/>
- <span class="id" title="tactic">intros</span> ψ <span class="id" title="var">Hocc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Lists.List.html#in_dec"><span class="id" title="lemma">in_dec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hocc</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">IHl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hocc</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hocc</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hocc</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hx</span>|(φ&amp;<span class="id" title="var">Hin</span>&amp;<span class="id" title="var">Hx</span>)]; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">exists</span> φ. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> *.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="Vuip.Environments.html#occurs_in_make_disj"><span class="id" title="lemma">occurs_in_make_disj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hx</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hx</span>|<span class="id" title="var">Hx</span>]; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> *.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">exists</span> φ. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> *.<br/>
}<br/>
<span class="id" title="tactic">intro</span> <span class="id" title="var">Hocc</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hcut</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hocc</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hocc</span>. <span class="id" title="tactic">tauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;a&nbsp;dependent&nbsp;map&nbsp;on&nbsp;lists,&nbsp;with&nbsp;knowledge&nbsp;that&nbsp;we&nbsp;are&nbsp;on&nbsp;that&nbsp;list&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;should&nbsp;work&nbsp;with&nbsp;any&nbsp;set-like&nbsp;type&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Definition</span> <a id="in_map_aux" class="idref" href="#in_map_aux"><span class="id" title="definition">in_map_aux</span></a> {<a id="A:104" class="idref" href="#A:104"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>} (<a id="679ee3ec1ad0fc855e729f07ee59c066" class="idref" href="#679ee3ec1ad0fc855e729f07ee59c066"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="Vuip.Environments.html#env"><span class="id" title="definition">env</span></a>) (<a id="f:107" class="idref" href="#f:107"><span class="id" title="binder">f</span></a> : <span class="id" title="notation">forall</span> <a id="b08468abfae895396baa9795a9e0bae3" class="idref" href="#b08468abfae895396baa9795a9e0bae3"><span class="id" title="binder">φ</span></a><span class="id" title="notation">,</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Vuip.Environments.html#b08468abfae895396baa9795a9e0bae3"><span class="id" title="variable">φ</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="Vuip.Environments.html#679ee3ec1ad0fc855e729f07ee59c066"><span class="id" title="variable">Γ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Vuip.Environments.html#A:104"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="c89dcd5cadfc9f0ad33fbef52e35c284" class="idref" href="#c89dcd5cadfc9f0ad33fbef52e35c284"><span class="id" title="binder">Γ'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="Vuip.Environments.html#c89dcd5cadfc9f0ad33fbef52e35c284"><span class="id" title="variable">Γ'</span></a> <span class="id" title="notation">⊆</span> <span class="id" title="definition">elements</span> <a class="idref" href="Vuip.Environments.html#679ee3ec1ad0fc855e729f07ee59c066"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Vuip.Environments.html#A:104"><span class="id" title="variable">A</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">_</span>. <span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">Hi</span>. <span class="id" title="tactic">refine</span> (<span class="id" title="var">f</span> <span class="id" title="var">a</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">IHΓ'</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="lemma">gmultiset_elem_of_elements</span>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> *.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="in_map" class="idref" href="#in_map"><span class="id" title="definition">in_map</span></a> {<a id="A:109" class="idref" href="#A:109"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>} (<a id="0c008a6713a52fb035051d000ccb99e7" class="idref" href="#0c008a6713a52fb035051d000ccb99e7"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="Vuip.Environments.html#env"><span class="id" title="definition">env</span></a>)<br/>
&nbsp;&nbsp;(<a id="f:112" class="idref" href="#f:112"><span class="id" title="binder">f</span></a> : <span class="id" title="notation">forall</span> <a id="ba6c166dd9455105c426f23ac14bfacf" class="idref" href="#ba6c166dd9455105c426f23ac14bfacf"><span class="id" title="binder">φ</span></a><span class="id" title="notation">,</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Vuip.Environments.html#ba6c166dd9455105c426f23ac14bfacf"><span class="id" title="variable">φ</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="Vuip.Environments.html#0c008a6713a52fb035051d000ccb99e7"><span class="id" title="variable">Γ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Vuip.Environments.html#A:109"><span class="id" title="variable">A</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Vuip.Environments.html#A:109"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="Vuip.Environments.html#in_map_aux"><span class="id" title="definition">in_map_aux</span></a> <a class="idref" href="Vuip.Environments.html#0c008a6713a52fb035051d000ccb99e7"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Vuip.Environments.html#f:112"><span class="id" title="variable">f</span></a> (<span class="id" title="definition">elements</span> <a class="idref" href="Vuip.Environments.html#0c008a6713a52fb035051d000ccb99e7"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Classes.RelationClasses.html#reflexivity"><span class="id" title="definition">reflexivity</span></a> <span class="id" title="var">_</span>).<br/>

<br/>
<span class="comment">(*&nbsp;This&nbsp;generalises&nbsp;to&nbsp;any&nbsp;type.&nbsp;decidability&nbsp;of&nbsp;equality&nbsp;over&nbsp;this&nbsp;type&nbsp;is&nbsp;necessary&nbsp;for&nbsp;a&nbsp;result&nbsp;in&nbsp;"Type"&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="in_in_map" class="idref" href="#in_in_map"><span class="id" title="lemma">in_in_map</span></a> {<a id="A:113" class="idref" href="#A:113"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>} {<a id="HD:116" class="idref" href="#HD:116"><span class="id" title="binder">HD</span></a> : <span class="id" title="notation">forall</span> <a id="a:114" class="idref" href="#a:114"><span class="id" title="binder">a</span></a> <a id="b:115" class="idref" href="#b:115"><span class="id" title="binder">b</span></a> : <a class="idref" href="Vuip.Environments.html#A:113"><span class="id" title="variable">A</span></a><span class="id" title="notation">,</span> <span class="id" title="class">Decision</span> (<a class="idref" href="Vuip.Environments.html#a:114"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Vuip.Environments.html#b:115"><span class="id" title="variable">b</span></a>)}<br/>
&nbsp;&nbsp;<a id="3c083db6a8c230777a75fde30323a335" class="idref" href="#3c083db6a8c230777a75fde30323a335"><span class="id" title="binder">Γ</span></a> (<a id="f:119" class="idref" href="#f:119"><span class="id" title="binder">f</span></a> : <span class="id" title="notation">forall</span> <a id="3e83e323034240e76b3f4b679ebfdf56" class="idref" href="#3e83e323034240e76b3f4b679ebfdf56"><span class="id" title="binder">φ</span></a><span class="id" title="notation">,</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Vuip.Environments.html#3e83e323034240e76b3f4b679ebfdf56"><span class="id" title="variable">φ</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="Vuip.Environments.html#3c083db6a8c230777a75fde30323a335"><span class="id" title="variable">Γ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Vuip.Environments.html#A:113"><span class="id" title="variable">A</span></a>) <a id="893a9fd444b734be8ad2d601e6bfb683" class="idref" href="#893a9fd444b734be8ad2d601e6bfb683"><span class="id" title="binder">ψ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Vuip.Environments.html#893a9fd444b734be8ad2d601e6bfb683"><span class="id" title="variable">ψ</span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="Vuip.Environments.html#in_map"><span class="id" title="definition">in_map</span></a> <a class="idref" href="Vuip.Environments.html#3c083db6a8c230777a75fde30323a335"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Vuip.Environments.html#f:119"><span class="id" title="variable">f</span></a><span class="id" title="notation">)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#e6a434cae860987d1c5f61b342cc9e57"><span class="id" title="notation">{</span></a><a id="dea4b966d55385055631997164ee78b5" class="idref" href="#dea4b966d55385055631997164ee78b5"><span class="id" title="binder">ψ0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#e6a434cae860987d1c5f61b342cc9e57"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f"><span class="id" title="notation">{</span></a><a id="Hin:122" class="idref" href="#Hin:122"><span class="id" title="binder">Hin</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f"><span class="id" title="notation">|</span></a> <a class="idref" href="Vuip.Environments.html#893a9fd444b734be8ad2d601e6bfb683"><span class="id" title="variable">ψ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Vuip.Environments.html#f:119"><span class="id" title="variable">f</span></a> <a class="idref" href="Vuip.Environments.html#dea4b966d55385055631997164ee78b5"><span class="id" title="variable">ψ0</span></a> <a class="idref" href="Vuip.Environments.html#Hin:122"><span class="id" title="variable">Hin</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f"><span class="id" title="notation">}</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#e6a434cae860987d1c5f61b342cc9e57"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">unfold</span> <a class="idref" href="Vuip.Environments.html#in_map"><span class="id" title="definition">in_map</span></a>.<br/>
<span class="id" title="tactic">assert</span>(<span class="id" title="var">Hcut</span> : <span class="id" title="notation">forall</span> <a id="100ccc464b3a4267406cbfa177b85b8c" class="idref" href="#100ccc464b3a4267406cbfa177b85b8c"><span class="id" title="binder">Γ'</span></a> (<a id="77fe5f464bd0e56a0a38e9cbad871bfc" class="idref" href="#77fe5f464bd0e56a0a38e9cbad871bfc"><span class="id" title="binder">HΓ'</span></a> : <a class="idref" href="Vuip.Environments.html#43313c100cc2deb2a731b90c335b7bee"><span class="id" title="variable">Γ'</span></a> <span class="id" title="notation">⊆</span> <span class="id" title="definition">elements</span> <span class="id" title="var">Γ</span><span class="id" title="notation">),</span> ψ <span class="id" title="notation">∈</span> <a class="idref" href="Vuip.Environments.html#in_map_aux"><span class="id" title="definition">in_map_aux</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">f</span> <a class="idref" href="Vuip.Environments.html#43313c100cc2deb2a731b90c335b7bee"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="Vuip.Environments.html#d3829ba75381f7f7cd2727346f489f3f"><span class="id" title="variable">HΓ'</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#e6a434cae860987d1c5f61b342cc9e57"><span class="id" title="notation">{</span></a><a id="89afd2550a6024cd0d1bba4673411f1e" class="idref" href="#89afd2550a6024cd0d1bba4673411f1e"><span class="id" title="binder">ψ0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#e6a434cae860987d1c5f61b342cc9e57"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">{</span></a><a id="Hin:130" class="idref" href="#Hin:130"><span class="id" title="binder">Hin</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">:</span></a> <a class="idref" href="Vuip.Environments.html#aaba9575e39c1fb2346fb0fd4af06022"><span class="id" title="variable">ψ0</span></a> <span class="id" title="notation">∈</span> <span class="id" title="var">Γ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">|</span></a> ψ <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">f</span> <a class="idref" href="Vuip.Environments.html#aaba9575e39c1fb2346fb0fd4af06022"><span class="id" title="variable">ψ0</span></a> <a class="idref" href="Vuip.Environments.html#Hin:126"><span class="id" title="variable">Hin</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">}</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#e6a434cae860987d1c5f61b342cc9e57"><span class="id" title="notation">}</span></a>); [|<span class="id" title="tactic">apply</span> <span class="id" title="var">Hcut</span>].<br/>
<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ'</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">HΓ'</span> <span class="id" title="var">Hin</span>.<br/>
- <span class="id" title="var">contradict</span> <span class="id" title="var">Hin</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">elem_of_nil</span>.<br/>
- <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> | <span class="id" title="var">H</span> : ψ <span class="id" title="notation">∈</span> ?<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Vuip.Environments.html#in_map_aux"><span class="id" title="definition">in_map_aux</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ?<span class="id" title="var">HΓ''</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">)</span></a> |- <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> (<span class="id" title="definition">decide</span> (ψ <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>)); [| <span class="id" title="tactic">pose</span> (<span class="id" title="var">myHΓ'</span> := <span class="id" title="var">HΓ''</span>)] <span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span> <span class="id" title="var">Hneq</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHΓ'</span> <span class="id" title="var">myHΓ'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_cons</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>. <span class="id" title="tactic">tauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Definition</span> <a id="in_subset" class="idref" href="#in_subset"><span class="id" title="definition">in_subset</span></a> {<a id="176f8993380a4cc2dc0087cc17e85ccb" class="idref" href="#176f8993380a4cc2dc0087cc17e85ccb"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="Vuip.Environments.html#env"><span class="id" title="definition">env</span></a>} {<a id="ebc8be4ebe94f97c91f2499dc0c74c06" class="idref" href="#ebc8be4ebe94f97c91f2499dc0c74c06"><span class="id" title="binder">Γ'</span></a>} (<a id="Hi:133" class="idref" href="#Hi:133"><span class="id" title="binder">Hi</span></a> : <a class="idref" href="Vuip.Environments.html#ebc8be4ebe94f97c91f2499dc0c74c06"><span class="id" title="variable">Γ'</span></a> <span class="id" title="notation">⊆</span> <span class="id" title="definition">elements</span> <a class="idref" href="Vuip.Environments.html#176f8993380a4cc2dc0087cc17e85ccb"><span class="id" title="variable">Γ</span></a>) {<a id="80c1dcf9743780e732186c20741d13f5" class="idref" href="#80c1dcf9743780e732186c20741d13f5"><span class="id" title="binder">ψ0</span></a>} (<a id="Hin:135" class="idref" href="#Hin:135"><span class="id" title="binder">Hin</span></a> : <a class="idref" href="Vuip.Environments.html#80c1dcf9743780e732186c20741d13f5"><span class="id" title="variable">ψ0</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="Vuip.Environments.html#ebc8be4ebe94f97c91f2499dc0c74c06"><span class="id" title="variable">Γ'</span></a>) : <a class="idref" href="Vuip.Environments.html#80c1dcf9743780e732186c20741d13f5"><span class="id" title="variable">ψ0</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="Vuip.Environments.html#176f8993380a4cc2dc0087cc17e85ccb"><span class="id" title="variable">Γ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">gmultiset_elem_of_elements</span>,<span class="id" title="var">Hi</span>, <span class="id" title="var">Hin</span>. <span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="comment">(*&nbsp;converse&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;we&nbsp;require&nbsp;proof&nbsp;irrelevance&nbsp;for&nbsp;the&nbsp;mapped&nbsp;function&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="in_map_in" class="idref" href="#in_map_in"><span class="id" title="lemma">in_map_in</span></a> {<a id="A:136" class="idref" href="#A:136"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>} {<a id="HD:139" class="idref" href="#HD:139"><span class="id" title="binder">HD</span></a> : <span class="id" title="notation">forall</span> <a id="a:137" class="idref" href="#a:137"><span class="id" title="binder">a</span></a> <a id="b:138" class="idref" href="#b:138"><span class="id" title="binder">b</span></a> : <a class="idref" href="Vuip.Environments.html#A:136"><span class="id" title="variable">A</span></a><span class="id" title="notation">,</span> <span class="id" title="class">Decision</span> (<a class="idref" href="Vuip.Environments.html#a:137"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Vuip.Environments.html#b:138"><span class="id" title="variable">b</span></a>)}<br/>
&nbsp;&nbsp;{<a id="442f86e95b1c753904b4a978a19bac8b" class="idref" href="#442f86e95b1c753904b4a978a19bac8b"><span class="id" title="binder">Γ</span></a>} {<a id="f:142" class="idref" href="#f:142"><span class="id" title="binder">f</span></a> : <span class="id" title="notation">forall</span> <a id="18db665908d5502a7e950956abebea07" class="idref" href="#18db665908d5502a7e950956abebea07"><span class="id" title="binder">φ</span></a><span class="id" title="notation">,</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Vuip.Environments.html#18db665908d5502a7e950956abebea07"><span class="id" title="variable">φ</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="Vuip.Environments.html#442f86e95b1c753904b4a978a19bac8b"><span class="id" title="variable">Γ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Vuip.Environments.html#A:136"><span class="id" title="variable">A</span></a>} {<a id="50dc18906a034b2da1df81febc6adef9" class="idref" href="#50dc18906a034b2da1df81febc6adef9"><span class="id" title="binder">ψ0</span></a>} (<a id="Hpi:147" class="idref" href="#Hpi:147"><span class="id" title="binder">Hpi</span></a> : <span class="id" title="notation">forall</span> <a id="d3f4400c8528fba8508abb6cd96e1a3a" class="idref" href="#d3f4400c8528fba8508abb6cd96e1a3a"><span class="id" title="binder">φ</span></a> <a id="H:145" class="idref" href="#H:145"><span class="id" title="binder">H</span></a> <a id="H':146" class="idref" href="#H':146"><span class="id" title="binder">H'</span></a><span class="id" title="notation">,</span> <a class="idref" href="Vuip.Environments.html#f:142"><span class="id" title="variable">f</span></a> <a class="idref" href="Vuip.Environments.html#d3f4400c8528fba8508abb6cd96e1a3a"><span class="id" title="variable">φ</span></a> <a class="idref" href="Vuip.Environments.html#H:145"><span class="id" title="variable">H</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Vuip.Environments.html#f:142"><span class="id" title="variable">f</span></a> <a class="idref" href="Vuip.Environments.html#d3f4400c8528fba8508abb6cd96e1a3a"><span class="id" title="variable">φ</span></a> <a class="idref" href="Vuip.Environments.html#H':146"><span class="id" title="variable">H'</span></a>) <a id="Hin:148" class="idref" href="#Hin:148"><span class="id" title="binder">Hin</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="Vuip.Environments.html#f:142"><span class="id" title="variable">f</span></a> <a class="idref" href="Vuip.Environments.html#50dc18906a034b2da1df81febc6adef9"><span class="id" title="variable">ψ0</span></a> <a class="idref" href="Vuip.Environments.html#Hin:148"><span class="id" title="variable">Hin</span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="Vuip.Environments.html#in_map"><span class="id" title="definition">in_map</span></a> <a class="idref" href="Vuip.Environments.html#442f86e95b1c753904b4a978a19bac8b"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Vuip.Environments.html#f:142"><span class="id" title="variable">f</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">unfold</span> <a class="idref" href="Vuip.Environments.html#in_map"><span class="id" title="definition">in_map</span></a>.<br/>
<span class="id" title="tactic">assert</span>(<span class="id" title="var">Hcut</span> : <span class="id" title="notation">forall</span> <a id="13a2b26254ed035825bcd6dfd20cf204" class="idref" href="#13a2b26254ed035825bcd6dfd20cf204"><span class="id" title="binder">Γ'</span></a> (<a id="fa0a4a93f30c670e9920a9c7523ffcee" class="idref" href="#fa0a4a93f30c670e9920a9c7523ffcee"><span class="id" title="binder">HΓ'</span></a> : <a class="idref" href="Vuip.Environments.html#f607859ad66973ec0b6cf05734630a43"><span class="id" title="variable">Γ'</span></a> <span class="id" title="notation">⊆</span> <span class="id" title="definition">elements</span> <span class="id" title="var">Γ</span>) <a id="bd9254ba89266205cd53713cfd9d6fa3" class="idref" href="#bd9254ba89266205cd53713cfd9d6fa3"><span class="id" title="binder">ψ0</span></a> (<a id="Hin:157" class="idref" href="#Hin:157"><span class="id" title="binder">Hin</span></a> : <a class="idref" href="Vuip.Environments.html#4d509a1715f80206f81ae3a476c782fe"><span class="id" title="variable">ψ0</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="Vuip.Environments.html#f607859ad66973ec0b6cf05734630a43"><span class="id" title="variable">Γ'</span></a>) <a id="Hin':158" class="idref" href="#Hin':158"><span class="id" title="binder">Hin'</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;<span class="id" title="var">f</span> <a class="idref" href="Vuip.Environments.html#4d509a1715f80206f81ae3a476c782fe"><span class="id" title="variable">ψ0</span></a> <a class="idref" href="Vuip.Environments.html#Hin':153"><span class="id" title="variable">Hin'</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="Vuip.Environments.html#in_map_aux"><span class="id" title="definition">in_map_aux</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">f</span> <a class="idref" href="Vuip.Environments.html#f607859ad66973ec0b6cf05734630a43"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="Vuip.Environments.html#90ace5b984616936029435eef1a79c2a"><span class="id" title="variable">HΓ'</span></a>);<br/>
&nbsp;&nbsp;[|  <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hcut</span>, <span class="id" title="lemma">gmultiset_elem_of_elements</span>].<br/>
<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ'</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">HΓ'</span> ψ' <span class="id" title="var">Hin'</span> <span class="id" title="var">Hin''</span>; [<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> *|].<br/>
<span class="id" title="tactic">case</span> (<span class="id" title="definition">decide</span> (ψ' <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>)).<br/>
- <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">a</span>. <span class="id" title="var">erewrite</span> <span class="id" title="var">Hpi</span>. <span class="id" title="tactic">left</span>.<br/>
- <span class="id" title="tactic">intro</span> <span class="id" title="var">Hneq</span>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHΓ'</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> *.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="in_map_empty" class="idref" href="#in_map_empty"><span class="id" title="lemma">in_map_empty</span></a> <a id="A:159" class="idref" href="#A:159"><span class="id" title="binder">A</span></a> <a id="f:160" class="idref" href="#f:160"><span class="id" title="binder">f</span></a> : @<a class="idref" href="Vuip.Environments.html#in_map"><span class="id" title="definition">in_map</span></a> <a class="idref" href="Vuip.Environments.html#A:159"><span class="id" title="variable">A</span></a> <span class="id" title="notation">∅</span> <a class="idref" href="Vuip.Environments.html#f:160"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> *. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="in_map_ext" class="idref" href="#in_map_ext"><span class="id" title="lemma">in_map_ext</span></a> {<a id="A:161" class="idref" href="#A:161"><span class="id" title="binder">A</span></a>} <a id="9e91b39a67ddc672c742a6ea13a7bc87" class="idref" href="#9e91b39a67ddc672c742a6ea13a7bc87"><span class="id" title="binder">Δ</span></a> <a id="f:163" class="idref" href="#f:163"><span class="id" title="binder">f</span></a> <a id="g:164" class="idref" href="#g:164"><span class="id" title="binder">g</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="notation">forall</span> <a id="b4710e2edd67afbb0f77627539b184d0" class="idref" href="#b4710e2edd67afbb0f77627539b184d0"><span class="id" title="binder">φ</span></a> <a id="H:166" class="idref" href="#H:166"><span class="id" title="binder">H</span></a><span class="id" title="notation">,</span> <a class="idref" href="Vuip.Environments.html#f:163"><span class="id" title="variable">f</span></a> <a class="idref" href="Vuip.Environments.html#b4710e2edd67afbb0f77627539b184d0"><span class="id" title="variable">φ</span></a> <a class="idref" href="Vuip.Environments.html#H:166"><span class="id" title="variable">H</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Vuip.Environments.html#g:164"><span class="id" title="variable">g</span></a> <a class="idref" href="Vuip.Environments.html#b4710e2edd67afbb0f77627539b184d0"><span class="id" title="variable">φ</span></a> <a class="idref" href="Vuip.Environments.html#H:166"><span class="id" title="variable">H</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> @<a class="idref" href="Vuip.Environments.html#in_map"><span class="id" title="definition">in_map</span></a> <a class="idref" href="Vuip.Environments.html#A:161"><span class="id" title="variable">A</span></a> <a class="idref" href="Vuip.Environments.html#9e91b39a67ddc672c742a6ea13a7bc87"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Vuip.Environments.html#f:163"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Vuip.Environments.html#in_map"><span class="id" title="definition">in_map</span></a> <a class="idref" href="Vuip.Environments.html#9e91b39a67ddc672c742a6ea13a7bc87"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Vuip.Environments.html#g:164"><span class="id" title="variable">g</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Vuip.Environments.html#in_map"><span class="id" title="definition">in_map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="notation">forall</span> <a id="69fb8d53ff71bb87999e9dfcc44d6817" class="idref" href="#69fb8d53ff71bb87999e9dfcc44d6817"><span class="id" title="binder">Γ</span></a> <a id="127565095f28c170f885e4bcf042f621" class="idref" href="#127565095f28c170f885e4bcf042f621"><span class="id" title="binder">HΓ</span></a><span class="id" title="notation">,</span> <a class="idref" href="Vuip.Environments.html#in_map_aux"><span class="id" title="definition">in_map_aux</span></a> <span class="id" title="var">Δ</span> <span class="id" title="var">f</span> <a class="idref" href="Vuip.Environments.html#47707ffe6e85ebfabd84f9b53dcaf992"><span class="id" title="variable">Γ</span></a>  <a class="idref" href="Vuip.Environments.html#f38842bb734e7172e42fa6dad05304bf"><span class="id" title="variable">HΓ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Vuip.Environments.html#in_map_aux"><span class="id" title="definition">in_map_aux</span></a> <span class="id" title="var">Δ</span> <span class="id" title="var">g</span> <a class="idref" href="Vuip.Environments.html#47707ffe6e85ebfabd84f9b53dcaf992"><span class="id" title="variable">Γ</span></a>  <a class="idref" href="Vuip.Environments.html#f38842bb734e7172e42fa6dad05304bf"><span class="id" title="variable">HΓ</span></a>); [|<span class="id" title="tactic">trivial</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">HΓ</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>, <span class="id" title="var">IHΓ</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="env_order_trans" class="idref" href="#env_order_trans"><span class="id" title="instance">env_order_trans</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Classes.RelationClasses.html#Transitive"><span class="id" title="class">Transitive</span></a> <a class="idref" href="Vuip.Environments.html#env_order"><span class="id" title="definition">env_order</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Vuip.Environments.html#env_order"><span class="id" title="definition">env_order</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="Vuip.Environments.html#mord_trans"><span class="id" title="lemma">mord_trans</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">b</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="env_order_singleton" class="idref" href="#env_order_singleton"><span class="id" title="lemma">env_order_singleton</span></a> <a id="871f8fee5372cca301e44cff4b63ba9e" class="idref" href="#871f8fee5372cca301e44cff4b63ba9e"><span class="id" title="binder">Δ</span></a> <a id="ff154ca2c672640e526d880f31f0f487" class="idref" href="#ff154ca2c672640e526d880f31f0f487"><span class="id" title="binder">φ</span></a> : <a class="idref" href="Vuip.Environments.html#871f8fee5372cca301e44cff4b63ba9e"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Vuip.Environments.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">≺</span></a> <a class="idref" href="Vuip.Environments.html#871f8fee5372cca301e44cff4b63ba9e"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Vuip.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="Vuip.Environments.html#ff154ca2c672640e526d880f31f0f487"><span class="id" title="variable">φ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Vuip.Environments.html#env_order"><span class="id" title="definition">env_order</span></a>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Vuip.Environments.html#MSetRed"><span class="id" title="constructor">MSetRed</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">X</span> := <span class="id" title="var">Δ</span> ) (<span class="id" title="var">a</span> := φ) (<span class="id" title="var">Y</span> := <span class="id" title="notation">∅</span>); <span class="id" title="tactic">try</span> <span class="id" title="var">ms</span>.<br/>
&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">y</span> <span class="id" title="var">Hy</span>. <span class="id" title="var">contradict</span> <span class="id" title="var">Hy</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">gmultiset_not_elem_of_empty</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="env_order_singleton_compat" class="idref" href="#env_order_singleton_compat"><span class="id" title="lemma">env_order_singleton_compat</span></a> {<a id="14b1161db93a4ee94501842a81ca97a8" class="idref" href="#14b1161db93a4ee94501842a81ca97a8"><span class="id" title="binder">Δ</span></a> <a id="6199652c1c08b9b987d813391188c178" class="idref" href="#6199652c1c08b9b987d813391188c178"><span class="id" title="binder">Δ'</span></a>} <a id="31ed67d7b8100e791a08b3025d54d958" class="idref" href="#31ed67d7b8100e791a08b3025d54d958"><span class="id" title="binder">φ</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Vuip.Environments.html#14b1161db93a4ee94501842a81ca97a8"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Vuip.Environments.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">≺</span></a> <a class="idref" href="Vuip.Environments.html#6199652c1c08b9b987d813391188c178"><span class="id" title="variable">Δ'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Vuip.Environments.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">(</span></a><a class="idref" href="Vuip.Environments.html#14b1161db93a4ee94501842a81ca97a8"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Vuip.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="Vuip.Environments.html#31ed67d7b8100e791a08b3025d54d958"><span class="id" title="variable">φ</span></a><a class="idref" href="Vuip.Environments.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">)</span></a> <a class="idref" href="Vuip.Environments.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">≺</span></a> <a class="idref" href="Vuip.Environments.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">(</span></a><a class="idref" href="Vuip.Environments.html#6199652c1c08b9b987d813391188c178"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="Vuip.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="Vuip.Environments.html#31ed67d7b8100e791a08b3025d54d958"><span class="id" title="variable">φ</span></a><a class="idref" href="Vuip.Environments.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">unfold</span> <a class="idref" href="Vuip.Environments.html#env_order"><span class="id" title="definition">env_order</span></a>.<br/>
<span class="id" title="tactic">induction</span> 1 <span class="id" title="keyword">as</span> [<span class="id" title="var">Δ1</span> <span class="id" title="var">Δ2</span> [<span class="id" title="var">X</span> <span class="id" title="var">a</span> <span class="id" title="var">Y</span> <span class="id" title="var">Heq1</span> <span class="id" title="var">Heq2</span> <span class="id" title="var">HY</span>] |<span class="id" title="var">Δ1</span> <span class="id" title="var">Δ2</span> <span class="id" title="var">Δ3</span> <span class="id" title="var">Hlt1</span> <span class="id" title="var">Hlt</span> <span class="id" title="var">Hind1</span> <span class="id" title="var">Hind2</span>].<br/>
- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Vuip.Environments.html#MSetRed"><span class="id" title="constructor">MSetRed</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">X</span> := <span class="id" title="var">X</span> <a class="idref" href="Vuip.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> φ) (<span class="id" title="var">a</span> := <span class="id" title="var">a</span>) (<span class="id" title="var">Y</span> := <span class="id" title="var">Y</span>).<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq1</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Vuip.Environments.html#union_perm"><span class="id" title="lemma">MSet.union_perm</span></a>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq2</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Vuip.Environments.html#union_perm"><span class="id" title="lemma">MSet.union_perm</span></a>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
- <span class="id" title="tactic">econstructor</span> 2; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="difference_singleton" class="idref" href="#difference_singleton"><span class="id" title="lemma">difference_singleton</span></a> (<a id="aa4841d0f834688096fd7e58c18bae9b" class="idref" href="#aa4841d0f834688096fd7e58c18bae9b"><span class="id" title="binder">Δ</span></a>: <a class="idref" href="Vuip.Environments.html#env"><span class="id" title="definition">env</span></a>) (<a id="4f1c0922cc5cb636082c60f0790e17e3" class="idref" href="#4f1c0922cc5cb636082c60f0790e17e3"><span class="id" title="binder">φ</span></a> : <a class="idref" href="Vuip.Formulas.html#formula"><span class="id" title="inductive">formula</span></a>): <a class="idref" href="Vuip.Environments.html#4f1c0922cc5cb636082c60f0790e17e3"><span class="id" title="variable">φ</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="Vuip.Environments.html#aa4841d0f834688096fd7e58c18bae9b"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Vuip.Environments.html#aa4841d0f834688096fd7e58c18bae9b"><span class="id" title="variable">Δ</span></a> <span class="id" title="notation">≡</span> <span class="id" title="notation">(</span><a class="idref" href="Vuip.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">(</span></a><a class="idref" href="Vuip.Environments.html#aa4841d0f834688096fd7e58c18bae9b"><span class="id" title="variable">Δ</span></a> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span><a class="idref" href="Vuip.Environments.html#4f1c0922cc5cb636082c60f0790e17e3"><span class="id" title="variable">φ</span></a><span class="id" title="notation">]}</span><a class="idref" href="Vuip.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">)</span></a> <a class="idref" href="Vuip.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="Vuip.Environments.html#4f1c0922cc5cb636082c60f0790e17e3"><span class="id" title="variable">φ</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intro</span> <span class="id" title="var">Hin</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="lemma">gmultiset_disj_union_difference</span> <span class="id" title="notation">{[</span>φ<span class="id" title="notation">]}</span>) <span class="id" title="tactic">at</span> 1. <span class="id" title="var">ms</span>.<br/>
<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">gmultiset_singleton_subseteq_l</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="env_in_add" class="idref" href="#env_in_add"><span class="id" title="lemma">env_in_add</span></a> (<a id="f64ec5320ab761690a7759fa7a54273b" class="idref" href="#f64ec5320ab761690a7759fa7a54273b"><span class="id" title="binder">Δ</span></a> : <a class="idref" href="Vuip.Environments.html#env"><span class="id" title="definition">env</span></a>) <a id="adb97b53e1ffae1fb7fd7cbab5ec742d" class="idref" href="#adb97b53e1ffae1fb7fd7cbab5ec742d"><span class="id" title="binder">ϕ</span></a> <a id="6bac152cec15c49a478e72b6363d6ced" class="idref" href="#6bac152cec15c49a478e72b6363d6ced"><span class="id" title="binder">φ</span></a>: <a class="idref" href="Vuip.Environments.html#6bac152cec15c49a478e72b6363d6ced"><span class="id" title="variable">φ</span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="Vuip.Environments.html#f64ec5320ab761690a7759fa7a54273b"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Vuip.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="Vuip.Environments.html#adb97b53e1ffae1fb7fd7cbab5ec742d"><span class="id" title="variable">ϕ</span></a><span class="id" title="notation">)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="Vuip.Environments.html#6bac152cec15c49a478e72b6363d6ced"><span class="id" title="variable">φ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Vuip.Environments.html#adb97b53e1ffae1fb7fd7cbab5ec742d"><span class="id" title="variable">ϕ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="Vuip.Environments.html#6bac152cec15c49a478e72b6363d6ced"><span class="id" title="variable">φ</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="Vuip.Environments.html#f64ec5320ab761690a7759fa7a54273b"><span class="id" title="variable">Δ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">rewrite</span> (<span class="id" title="lemma">gmultiset_elem_of_disj_union</span> <span class="id" title="var">Δ</span>), <span class="id" title="lemma">gmultiset_elem_of_singleton</span>.<br/>
<span class="id" title="tactic">tauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="equiv_disj_union_compat_r" class="idref" href="#equiv_disj_union_compat_r"><span class="id" title="lemma">equiv_disj_union_compat_r</span></a> {<a id="9c1dd21f71c266fc5bc7721fb6e08f3b" class="idref" href="#9c1dd21f71c266fc5bc7721fb6e08f3b"><span class="id" title="binder">Δ</span></a> <a id="c230d0d6056dc8193fbce8b61df19942" class="idref" href="#c230d0d6056dc8193fbce8b61df19942"><span class="id" title="binder">Δ'</span></a> <a id="580d2b034a10973ff08dfd1a6b5da656" class="idref" href="#580d2b034a10973ff08dfd1a6b5da656"><span class="id" title="binder">Δ''</span></a> : <a class="idref" href="Vuip.Environments.html#env"><span class="id" title="definition">env</span></a>} : <a class="idref" href="Vuip.Environments.html#9c1dd21f71c266fc5bc7721fb6e08f3b"><span class="id" title="variable">Δ</span></a> <span class="id" title="notation">≡</span> <a class="idref" href="Vuip.Environments.html#580d2b034a10973ff08dfd1a6b5da656"><span class="id" title="variable">Δ''</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Vuip.Environments.html#9c1dd21f71c266fc5bc7721fb6e08f3b"><span class="id" title="variable">Δ</span></a> <span class="id" title="notation">⊎</span> <a class="idref" href="Vuip.Environments.html#c230d0d6056dc8193fbce8b61df19942"><span class="id" title="variable">Δ'</span></a> <span class="id" title="notation">≡</span> <a class="idref" href="Vuip.Environments.html#580d2b034a10973ff08dfd1a6b5da656"><span class="id" title="variable">Δ''</span></a> <span class="id" title="notation">⊎</span> <a class="idref" href="Vuip.Environments.html#c230d0d6056dc8193fbce8b61df19942"><span class="id" title="variable">Δ'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">ms</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="env_add_comm" class="idref" href="#env_add_comm"><span class="id" title="lemma">env_add_comm</span></a> (<a id="29319e15b7268dcbb0d2413654a50989" class="idref" href="#29319e15b7268dcbb0d2413654a50989"><span class="id" title="binder">Δ</span></a> : <a class="idref" href="Vuip.Environments.html#env"><span class="id" title="definition">env</span></a>) <a id="1294873559e067fba3bc65b6a1edd983" class="idref" href="#1294873559e067fba3bc65b6a1edd983"><span class="id" title="binder">φ</span></a> <a id="0cf2e5aa97af65cddb531c78bf6c65e7" class="idref" href="#0cf2e5aa97af65cddb531c78bf6c65e7"><span class="id" title="binder">ϕ</span></a> : <span class="id" title="notation">(</span><a class="idref" href="Vuip.Environments.html#29319e15b7268dcbb0d2413654a50989"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Vuip.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="Vuip.Environments.html#1294873559e067fba3bc65b6a1edd983"><span class="id" title="variable">φ</span></a> <a class="idref" href="Vuip.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="Vuip.Environments.html#0cf2e5aa97af65cddb531c78bf6c65e7"><span class="id" title="variable">ϕ</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">≡</span> <span class="id" title="notation">(</span><a class="idref" href="Vuip.Environments.html#29319e15b7268dcbb0d2413654a50989"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Vuip.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="Vuip.Environments.html#0cf2e5aa97af65cddb531c78bf6c65e7"><span class="id" title="variable">ϕ</span></a> <a class="idref" href="Vuip.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="Vuip.Environments.html#1294873559e067fba3bc65b6a1edd983"><span class="id" title="variable">φ</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">ms</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="in_difference" class="idref" href="#in_difference"><span class="id" title="lemma">in_difference</span></a> (<a id="b7d682e55ead81672f2aa5ffa2109a64" class="idref" href="#b7d682e55ead81672f2aa5ffa2109a64"><span class="id" title="binder">Δ</span></a> : <a class="idref" href="Vuip.Environments.html#env"><span class="id" title="definition">env</span></a>) <a id="db8b01300c53a3703d688cf94a4aead0" class="idref" href="#db8b01300c53a3703d688cf94a4aead0"><span class="id" title="binder">φ</span></a> <a id="4bc8f101601b67f5ca0e05c26e9bfc8f" class="idref" href="#4bc8f101601b67f5ca0e05c26e9bfc8f"><span class="id" title="binder">ψ</span></a> : <a class="idref" href="Vuip.Environments.html#db8b01300c53a3703d688cf94a4aead0"><span class="id" title="variable">φ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="Vuip.Environments.html#4bc8f101601b67f5ca0e05c26e9bfc8f"><span class="id" title="variable">ψ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Vuip.Environments.html#db8b01300c53a3703d688cf94a4aead0"><span class="id" title="variable">φ</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="Vuip.Environments.html#b7d682e55ead81672f2aa5ffa2109a64"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Vuip.Environments.html#db8b01300c53a3703d688cf94a4aead0"><span class="id" title="variable">φ</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="Vuip.Environments.html#b7d682e55ead81672f2aa5ffa2109a64"><span class="id" title="variable">Δ</span></a> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span><a class="idref" href="Vuip.Environments.html#4bc8f101601b67f5ca0e05c26e9bfc8f"><span class="id" title="variable">ψ</span></a><span class="id" title="notation">]}</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">Hne</span> <span class="id" title="var">Hin</span>.<br/>
<span class="id" title="tactic">unfold</span> <span class="id" title="definition">elem_of</span>, <span class="id" title="instance">gmultiset_elem_of</span>.<br/>
<span class="id" title="tactic">rewrite</span> (<span class="id" title="lemma">multiplicity_difference</span> <span class="id" title="var">Δ</span> <span class="id" title="notation">{[</span>ψ<span class="id" title="notation">]}</span> φ).<br/>
<span class="id" title="tactic">assert</span>( <span class="id" title="var">HH</span> := <span class="id" title="lemma">multiplicity_singleton_ne</span> φ ψ <span class="id" title="var">Hne</span>).<br/>
<span class="id" title="tactic">unfold</span> <a class="idref" href="Vuip.Environments.html#singletonMS"><span class="id" title="instance">singletonMS</span></a>, <span class="id" title="definition">base.singletonMS</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HH</span>.<br/>
<span class="id" title="tactic">unfold</span> <span class="id" title="definition">base.singleton</span>, <a class="idref" href="Vuip.Environments.html#singleton"><span class="id" title="instance">Environments.singleton</span></a>. <span class="id" title="var">ms</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Hint Resolve</span> <span class="id" title="var">in_difference</span> : <span class="id" title="var">multiset</span>.<br/>

<br/>
<span class="comment">(*&nbsp;TODO:&nbsp;use&nbsp;in&nbsp;disj_inv&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="env_add_inv" class="idref" href="#env_add_inv"><span class="id" title="lemma">env_add_inv</span></a> (<a id="b838c91eeed7d5415552bab7722f140b" class="idref" href="#b838c91eeed7d5415552bab7722f140b"><span class="id" title="binder">Γ</span></a> <a id="483d02a9f2396024ade1c7d186d734f1" class="idref" href="#483d02a9f2396024ade1c7d186d734f1"><span class="id" title="binder">Γ'</span></a> : <a class="idref" href="Vuip.Environments.html#env"><span class="id" title="definition">env</span></a>) (<a id="ba3790d11d3f72404ba56b036eeeaeb9" class="idref" href="#ba3790d11d3f72404ba56b036eeeaeb9"><span class="id" title="binder">φ</span></a> <a id="4ec42b342350330e7855ba753481fbfd" class="idref" href="#4ec42b342350330e7855ba753481fbfd"><span class="id" title="binder">ψ</span></a> : <a class="idref" href="Vuip.Formulas.html#formula"><span class="id" title="inductive">formula</span></a>): <a class="idref" href="Vuip.Environments.html#ba3790d11d3f72404ba56b036eeeaeb9"><span class="id" title="variable">φ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="Vuip.Environments.html#4ec42b342350330e7855ba753481fbfd"><span class="id" title="variable">ψ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="notation">(</span><a class="idref" href="Vuip.Environments.html#b838c91eeed7d5415552bab7722f140b"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Vuip.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="Vuip.Environments.html#ba3790d11d3f72404ba56b036eeeaeb9"><span class="id" title="variable">φ</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">≡</span> <span class="id" title="notation">(</span><a class="idref" href="Vuip.Environments.html#483d02a9f2396024ade1c7d186d734f1"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="Vuip.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="Vuip.Environments.html#4ec42b342350330e7855ba753481fbfd"><span class="id" title="variable">ψ</span></a><span class="id" title="notation">)</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Vuip.Environments.html#483d02a9f2396024ade1c7d186d734f1"><span class="id" title="variable">Γ'</span></a> <span class="id" title="notation">≡</span>  <span class="id" title="notation">(</span><a class="idref" href="Vuip.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">(</span></a><a class="idref" href="Vuip.Environments.html#b838c91eeed7d5415552bab7722f140b"><span class="id" title="variable">Γ</span></a> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span><a class="idref" href="Vuip.Environments.html#4ec42b342350330e7855ba753481fbfd"><span class="id" title="variable">ψ</span></a><span class="id" title="notation">]}</span><a class="idref" href="Vuip.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">)</span></a> <a class="idref" href="Vuip.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="Vuip.Environments.html#ba3790d11d3f72404ba56b036eeeaeb9"><span class="id" title="variable">φ</span></a><span class="id" title="notation">)</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">Hneq</span> <span class="id" title="var">Heq</span>.<br/>
<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Vuip.Environments.html#env_replace"><span class="id" title="lemma">env_replace</span></a>; [<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>; <span class="id" title="var">ms</span>|].<br/>
<span class="id" title="tactic">assert</span>(ψ <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><span class="id" title="var">Γ</span> <a class="idref" href="Vuip.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> φ<span class="id" title="notation">)</span>); [<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>|]; <span class="id" title="var">ms</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="env_add_inv'" class="idref" href="#env_add_inv'"><span class="id" title="lemma">env_add_inv'</span></a> (<a id="d60cca09333596614699de21d7139a5f" class="idref" href="#d60cca09333596614699de21d7139a5f"><span class="id" title="binder">Γ</span></a> <a id="73344510e6cb7e7fe940ff3a40d23cb3" class="idref" href="#73344510e6cb7e7fe940ff3a40d23cb3"><span class="id" title="binder">Γ'</span></a> : <a class="idref" href="Vuip.Environments.html#env"><span class="id" title="definition">env</span></a>) (<a id="2b00bd4c6914345964d9d0a65873e65f" class="idref" href="#2b00bd4c6914345964d9d0a65873e65f"><span class="id" title="binder">φ</span></a> : <a class="idref" href="Vuip.Formulas.html#formula"><span class="id" title="inductive">formula</span></a>): <span class="id" title="notation">(</span><a class="idref" href="Vuip.Environments.html#d60cca09333596614699de21d7139a5f"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Vuip.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="Vuip.Environments.html#2b00bd4c6914345964d9d0a65873e65f"><span class="id" title="variable">φ</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">≡</span> <a class="idref" href="Vuip.Environments.html#73344510e6cb7e7fe940ff3a40d23cb3"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Vuip.Environments.html#d60cca09333596614699de21d7139a5f"><span class="id" title="variable">Γ</span></a> <span class="id" title="notation">≡</span>  <span class="id" title="notation">(</span><a class="idref" href="Vuip.Environments.html#73344510e6cb7e7fe940ff3a40d23cb3"><span class="id" title="variable">Γ'</span></a> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span><a class="idref" href="Vuip.Environments.html#2b00bd4c6914345964d9d0a65873e65f"><span class="id" title="variable">φ</span></a><span class="id" title="notation">]}</span><span class="id" title="notation">)</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Heq</span>. <span class="id" title="var">ms</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="env_equiv_eq" class="idref" href="#env_equiv_eq"><span class="id" title="lemma">env_equiv_eq</span></a> (<a id="233c8f5f4890e0afc448c71b7d21a4cd" class="idref" href="#233c8f5f4890e0afc448c71b7d21a4cd"><span class="id" title="binder">Γ</span></a> <a id="6af8b5dc6f8a17e73caae4c60c8f19ea" class="idref" href="#6af8b5dc6f8a17e73caae4c60c8f19ea"><span class="id" title="binder">Γ'</span></a> :<a class="idref" href="Vuip.Environments.html#env"><span class="id" title="definition">env</span></a>) : <a class="idref" href="Vuip.Environments.html#233c8f5f4890e0afc448c71b7d21a4cd"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a>  <a class="idref" href="Vuip.Environments.html#6af8b5dc6f8a17e73caae4c60c8f19ea"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Vuip.Environments.html#233c8f5f4890e0afc448c71b7d21a4cd"><span class="id" title="variable">Γ</span></a> <span class="id" title="notation">≡</span>  <a class="idref" href="Vuip.Environments.html#6af8b5dc6f8a17e73caae4c60c8f19ea"><span class="id" title="variable">Γ'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">trivial</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;TODO:&nbsp;technical&nbsp;:&nbsp;induction&nbsp;principle&nbsp;in&nbsp;type.&nbsp;why&nbsp;is&nbsp;it&nbsp;not&nbsp;in&nbsp;stdpp?&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="gmultiset_rec" class="idref" href="#gmultiset_rec"><span class="id" title="lemma">gmultiset_rec</span></a> (<a id="P:199" class="idref" href="#P:199"><span class="id" title="binder">P</span></a> : <a class="idref" href="Vuip.Environments.html#env"><span class="id" title="definition">env</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>) :<br/>
&nbsp;&nbsp;<a class="idref" href="Vuip.Environments.html#P:199"><span class="id" title="variable">P</span></a> <span class="id" title="notation">∅</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="x:200" class="idref" href="#x:200"><span class="id" title="binder">x</span></a> <a id="X:201" class="idref" href="#X:201"><span class="id" title="binder">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="Vuip.Environments.html#P:199"><span class="id" title="variable">P</span></a> <a class="idref" href="Vuip.Environments.html#X:201"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="Vuip.Environments.html#P:199"><span class="id" title="variable">P</span></a> (<span class="id" title="notation">{[+</span> <a class="idref" href="Vuip.Environments.html#x:200"><span class="id" title="variable">x</span></a> <span class="id" title="notation">+]}</span> <span class="id" title="notation">⊎</span> <a class="idref" href="Vuip.Environments.html#X:201"><span class="id" title="variable">X</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="X:202" class="idref" href="#X:202"><span class="id" title="binder">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="Vuip.Environments.html#P:199"><span class="id" title="variable">P</span></a> <a class="idref" href="Vuip.Environments.html#X:202"><span class="id" title="variable">X</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hemp</span> <span class="id" title="var">Hinsert</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">induction</span> (<span class="id" title="lemma">gmultiset_wf</span> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">X</span> <span class="id" title="var">_</span> <span class="id" title="var">IH</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Vuip.Environments.html#gmultiset_choose_or_empty"><span class="id" title="lemma">gmultiset_choose_or_empty</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">x</span> <span class="id" title="var">Hx</span>]| -&gt;]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="lemma">gmultiset_disj_union_difference'</span> <span class="id" title="var">x</span> <span class="id" title="var">X</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hinsert</span>, <span class="id" title="var">IH</span>; <span class="id" title="var">multiset_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="Order" class="idref" href="#Order"><span class="id" title="section">Order</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;We&nbsp;introduce&nbsp;a&nbsp;notion&nbsp;of&nbsp;"pointed"&nbsp;environment,&nbsp;which&nbsp;is&nbsp;simply<br/>
&nbsp;*&nbsp;a&nbsp;pair&nbsp;(Δ,&nbsp;φ),&nbsp;where&nbsp;Δ&nbsp;is&nbsp;an&nbsp;environment&nbsp;and&nbsp;φ&nbsp;is&nbsp;a&nbsp;formula,<br/>
&nbsp;*&nbsp;not&nbsp;necessarily&nbsp;an&nbsp;element&nbsp;of&nbsp;Δ.&nbsp;&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a id="pointed_env" class="idref" href="#pointed_env"><span class="id" title="definition">pointed_env</span></a> := (<a class="idref" href="Vuip.Environments.html#env"><span class="id" title="definition">env</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="Vuip.Formulas.html#formula"><span class="id" title="inductive">formula</span></a>)%<span class="id" title="keyword">type</span>.<br/>

<br/>
<span class="comment">(*&nbsp;The&nbsp;order&nbsp;on&nbsp;pointed&nbsp;environments&nbsp;is&nbsp;given&nbsp;by&nbsp;considering&nbsp;the<br/>
&nbsp;*&nbsp;environment&nbsp;order&nbsp;on&nbsp;the&nbsp;sum&nbsp;of&nbsp;Δ&nbsp;and&nbsp;{φ}.&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a id="pointed_env_order" class="idref" href="#pointed_env_order"><span class="id" title="definition">pointed_env_order</span></a> (<a id="pe1:203" class="idref" href="#pe1:203"><span class="id" title="binder">pe1</span></a> : <a class="idref" href="Vuip.Environments.html#pointed_env"><span class="id" title="definition">pointed_env</span></a>) (<a id="pe2:204" class="idref" href="#pe2:204"><span class="id" title="binder">pe2</span></a> : <a class="idref" href="Vuip.Environments.html#pointed_env"><span class="id" title="definition">pointed_env</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="Vuip.Environments.html#env_order"><span class="id" title="definition">env_order</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Vuip.Environments.html#pe1:203"><span class="id" title="variable">pe1</span></a> <a class="idref" href="Vuip.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Vuip.Environments.html#pe1:203"><span class="id" title="variable">pe1</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Vuip.Environments.html#pe2:204"><span class="id" title="variable">pe2</span></a> <a class="idref" href="Vuip.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Vuip.Environments.html#pe2:204"><span class="id" title="variable">pe2</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wf_pointed_order" class="idref" href="#wf_pointed_order"><span class="id" title="lemma">wf_pointed_order</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Wf.html#well_founded"><span class="id" title="definition">well_founded</span></a> <a class="idref" href="Vuip.Environments.html#pointed_env_order"><span class="id" title="definition">pointed_env_order</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Vuip.Environments.html#pointed_env_order"><span class="id" title="definition">pointed_env_order</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Wellfounded.Inverse_Image.html#wf_inverse_image"><span class="id" title="lemma">Inverse_Image.wf_inverse_image</span></a>, <a class="idref" href="Vuip.Environments.html#wf_dyckhoff"><span class="id" title="definition">wf_dyckhoff</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Vuip.Environments.html#Order"><span class="id" title="section">Order</span></a>.<br/>

<br/>
<span class="id" title="keyword">Infix</span> <a id="76364ed22a942cd0c08a3d02d3963dec" class="idref" href="#76364ed22a942cd0c08a3d02d3963dec"><span class="id" title="notation">&quot;</span></a>≺·" := <a class="idref" href="Vuip.Environments.html#pointed_env_order"><span class="id" title="definition">pointed_env_order</span></a> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 150).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="difference_include" class="idref" href="#difference_include"><span class="id" title="lemma">difference_include</span></a> (<a id="6cf553ea60a9a7ad3f277e801a76f260" class="idref" href="#6cf553ea60a9a7ad3f277e801a76f260"><span class="id" title="binder">θ</span></a> <a id="b30b1d949c1a4d74baad45d86a7d411b" class="idref" href="#b30b1d949c1a4d74baad45d86a7d411b"><span class="id" title="binder">θ'</span></a> : <a class="idref" href="Vuip.Formulas.html#formula"><span class="id" title="inductive">formula</span></a>) (<a id="56657119044f2fbf51ac7e61d3c5ca61" class="idref" href="#56657119044f2fbf51ac7e61d3c5ca61"><span class="id" title="binder">Δ</span></a> : <a class="idref" href="Vuip.Environments.html#env"><span class="id" title="definition">env</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Vuip.Environments.html#b30b1d949c1a4d74baad45d86a7d411b"><span class="id" title="variable">θ'</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="Vuip.Environments.html#56657119044f2fbf51ac7e61d3c5ca61"><span class="id" title="variable">Δ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Vuip.Environments.html#6cf553ea60a9a7ad3f277e801a76f260"><span class="id" title="variable">θ</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="Vuip.Environments.html#56657119044f2fbf51ac7e61d3c5ca61"><span class="id" title="variable">Δ</span></a> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span><a class="idref" href="Vuip.Environments.html#b30b1d949c1a4d74baad45d86a7d411b"><span class="id" title="variable">θ'</span></a><span class="id" title="notation">]}</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Vuip.Environments.html#6cf553ea60a9a7ad3f277e801a76f260"><span class="id" title="variable">θ</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="Vuip.Environments.html#56657119044f2fbf51ac7e61d3c5ca61"><span class="id" title="variable">Δ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">Hin'</span> <span class="id" title="var">Hin</span>.<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">gmultiset_disj_union_difference</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">X</span> := <span class="id" title="notation">{[</span><span class="id" title="var">θ'</span><span class="id" title="notation">]}</span>).<br/>
- <span class="id" title="tactic">apply</span> <span class="id" title="lemma">gmultiset_elem_of_disj_union</span>. <span class="id" title="tactic">tauto</span>.<br/>
- <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">gmultiset_singleton_subseteq_l</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="env_order_1" class="idref" href="#env_order_1"><span class="id" title="lemma">env_order_1</span></a>  <a id="06c892cbdbfb8f127050ff837491e362" class="idref" href="#06c892cbdbfb8f127050ff837491e362"><span class="id" title="binder">Δ</span></a> <a id="1c8727b0efbdc7a6b1d65855741db346" class="idref" href="#1c8727b0efbdc7a6b1d65855741db346"><span class="id" title="binder">φ1</span></a> <a id="bc84a5e32bc7f48df597a58b30bca812" class="idref" href="#bc84a5e32bc7f48df597a58b30bca812"><span class="id" title="binder">φ</span></a> : <a class="idref" href="Vuip.Environments.html#weight"><span class="id" title="definition">weight</span></a> <a class="idref" href="Vuip.Environments.html#1c8727b0efbdc7a6b1d65855741db346"><span class="id" title="variable">φ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="Vuip.Environments.html#weight"><span class="id" title="definition">weight</span></a> <a class="idref" href="Vuip.Environments.html#bc84a5e32bc7f48df597a58b30bca812"><span class="id" title="variable">φ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Vuip.Environments.html#06c892cbdbfb8f127050ff837491e362"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Vuip.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="Vuip.Environments.html#1c8727b0efbdc7a6b1d65855741db346"><span class="id" title="variable">φ1</span></a> <a class="idref" href="Vuip.Environments.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">≺</span></a> <a class="idref" href="Vuip.Environments.html#06c892cbdbfb8f127050ff837491e362"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Vuip.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="Vuip.Environments.html#bc84a5e32bc7f48df597a58b30bca812"><span class="id" title="variable">φ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">Hw</span>.<br/>
<span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">econstructor</span>; [<span class="id" title="tactic">reflexivity</span>| <span class="id" title="tactic">reflexivity</span>|].<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">y</span> <span class="id" title="var">Hy</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Vuip.Environments.html#member_singleton"><span class="id" title="lemma">MSet.member_singleton</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hy</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hy</span>. <span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="assoc_meq_union" class="idref" href="#assoc_meq_union"><span class="id" title="instance">assoc_meq_union</span></a> : <span class="id" title="class">Assoc</span> <a class="idref" href="Vuip.Environments.html#meq"><span class="id" title="definition">meq</span></a> <a class="idref" href="Vuip.Environments.html#union"><span class="id" title="definition">union</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>. <span class="id" title="var">ms</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="env_order_2" class="idref" href="#env_order_2"><span class="id" title="lemma">env_order_2</span></a>  <a id="8a801ebe77e7f4e7f6a048f73112d40f" class="idref" href="#8a801ebe77e7f4e7f6a048f73112d40f"><span class="id" title="binder">Δ</span></a> <a id="bd9ffcd0ce84a470fac44f84350443be" class="idref" href="#bd9ffcd0ce84a470fac44f84350443be"><span class="id" title="binder">φ1</span></a> <a id="14874fff81b3e4485941924f84e4510f" class="idref" href="#14874fff81b3e4485941924f84e4510f"><span class="id" title="binder">φ2</span></a> <a id="d4f3661c96a2b875ed8065676f698f5e" class="idref" href="#d4f3661c96a2b875ed8065676f698f5e"><span class="id" title="binder">φ</span></a>: <a class="idref" href="Vuip.Environments.html#weight"><span class="id" title="definition">weight</span></a> <a class="idref" href="Vuip.Environments.html#bd9ffcd0ce84a470fac44f84350443be"><span class="id" title="variable">φ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="Vuip.Environments.html#weight"><span class="id" title="definition">weight</span></a> <a class="idref" href="Vuip.Environments.html#d4f3661c96a2b875ed8065676f698f5e"><span class="id" title="variable">φ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Vuip.Environments.html#weight"><span class="id" title="definition">weight</span></a> <a class="idref" href="Vuip.Environments.html#14874fff81b3e4485941924f84e4510f"><span class="id" title="variable">φ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="Vuip.Environments.html#weight"><span class="id" title="definition">weight</span></a> <a class="idref" href="Vuip.Environments.html#d4f3661c96a2b875ed8065676f698f5e"><span class="id" title="variable">φ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Vuip.Environments.html#8a801ebe77e7f4e7f6a048f73112d40f"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Vuip.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="Vuip.Environments.html#bd9ffcd0ce84a470fac44f84350443be"><span class="id" title="variable">φ1</span></a> <a class="idref" href="Vuip.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="Vuip.Environments.html#14874fff81b3e4485941924f84e4510f"><span class="id" title="variable">φ2</span></a> <a class="idref" href="Vuip.Environments.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">≺</span></a> <a class="idref" href="Vuip.Environments.html#8a801ebe77e7f4e7f6a048f73112d40f"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Vuip.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="Vuip.Environments.html#d4f3661c96a2b875ed8065676f698f5e"><span class="id" title="variable">φ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">Hw</span>.<br/>
<span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">econstructor</span>; [<span class="id" title="tactic">reflexivity</span>| |].<br/>
- <span class="id" title="tactic">rewrite</span> <span class="id" title="definition">assoc</span>; [<span class="id" title="tactic">reflexivity</span>|]. <span class="id" title="tactic">apply</span> <a class="idref" href="Vuip.Environments.html#assoc_meq_union"><span class="id" title="instance">assoc_meq_union</span></a>.<br/>
- <span class="id" title="tactic">intros</span> <span class="id" title="var">y</span> <span class="id" title="var">Hy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Vuip.Environments.html#member_union"><span class="id" title="lemma">MSet.member_union</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hy</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hy</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hy</span>|<span class="id" title="var">Hy</span>];<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Vuip.Environments.html#member_singleton"><span class="id" title="lemma">MSet.member_singleton</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hy</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hy</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="env_order_0" class="idref" href="#env_order_0"><span class="id" title="lemma">env_order_0</span></a> <a id="6aa41d12b4e5cf00f25ad4e99818767c" class="idref" href="#6aa41d12b4e5cf00f25ad4e99818767c"><span class="id" title="binder">Δ</span></a> <a id="95e297f56136cb1f92a1bf59e8f66017" class="idref" href="#95e297f56136cb1f92a1bf59e8f66017"><span class="id" title="binder">φ</span></a>: <a class="idref" href="Vuip.Environments.html#6aa41d12b4e5cf00f25ad4e99818767c"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Vuip.Environments.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">≺</span></a> <a class="idref" href="Vuip.Environments.html#6aa41d12b4e5cf00f25ad4e99818767c"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Vuip.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="Vuip.Environments.html#95e297f56136cb1f92a1bf59e8f66017"><span class="id" title="variable">φ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">econstructor</span>; [<span class="id" title="tactic">reflexivity</span>| <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Vuip.Environments.html#union_empty"><span class="id" title="lemma">MSet.union_empty</span></a>|].<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">y</span> <span class="id" title="var">Hy</span>. <span class="id" title="var">exfalso</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="Vuip.Environments.html#not_empty"><span class="id" title="lemma">MSet.not_empty</span></a>; [<span class="id" title="tactic">exact</span> <span class="id" title="var">Hy</span>| <span class="id" title="var">ms</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="env_order_cancel_right" class="idref" href="#env_order_cancel_right"><span class="id" title="lemma">env_order_cancel_right</span></a> <a id="e92ea3c5264c88cbe082bdd3fe547532" class="idref" href="#e92ea3c5264c88cbe082bdd3fe547532"><span class="id" title="binder">Δ</span></a> <a id="6de9017eb2c094e07e5536203229ec41" class="idref" href="#6de9017eb2c094e07e5536203229ec41"><span class="id" title="binder">Δ'</span></a> <a id="b7b6f2d7d751f84a74bc7d2e3a1cd0de" class="idref" href="#b7b6f2d7d751f84a74bc7d2e3a1cd0de"><span class="id" title="binder">φ</span></a>:  <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Vuip.Environments.html#e92ea3c5264c88cbe082bdd3fe547532"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Vuip.Environments.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">≺</span></a> <a class="idref" href="Vuip.Environments.html#6de9017eb2c094e07e5536203229ec41"><span class="id" title="variable">Δ'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Vuip.Environments.html#e92ea3c5264c88cbe082bdd3fe547532"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Vuip.Environments.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">≺</span></a> <a class="idref" href="Vuip.Environments.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">(</span></a><a class="idref" href="Vuip.Environments.html#6de9017eb2c094e07e5536203229ec41"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="Vuip.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="Vuip.Environments.html#b7b6f2d7d751f84a74bc7d2e3a1cd0de"><span class="id" title="variable">φ</span></a><a class="idref" href="Vuip.Environments.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">etransitivity</span>; [|<span class="id" title="tactic">apply</span> <a class="idref" href="Vuip.Environments.html#env_order_0"><span class="id" title="lemma">env_order_0</span></a>]. <span class="id" title="tactic">assumption</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="env_order_add_compat" class="idref" href="#env_order_add_compat"><span class="id" title="lemma">env_order_add_compat</span></a> <a id="5f032555343d96d0cc2bfbb7e7f7130a" class="idref" href="#5f032555343d96d0cc2bfbb7e7f7130a"><span class="id" title="binder">Δ</span></a> <a id="84f36cd4ed189474cd702c245f922942" class="idref" href="#84f36cd4ed189474cd702c245f922942"><span class="id" title="binder">Δ'</span></a> <a id="8b9cfde4740719c5cf7ecbc9a5ab35eb" class="idref" href="#8b9cfde4740719c5cf7ecbc9a5ab35eb"><span class="id" title="binder">φ</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Vuip.Environments.html#5f032555343d96d0cc2bfbb7e7f7130a"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Vuip.Environments.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">≺</span></a> <a class="idref" href="Vuip.Environments.html#84f36cd4ed189474cd702c245f922942"><span class="id" title="variable">Δ'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Vuip.Environments.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">(</span></a><a class="idref" href="Vuip.Environments.html#5f032555343d96d0cc2bfbb7e7f7130a"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Vuip.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="Vuip.Environments.html#8b9cfde4740719c5cf7ecbc9a5ab35eb"><span class="id" title="variable">φ</span></a><a class="idref" href="Vuip.Environments.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">)</span></a> <a class="idref" href="Vuip.Environments.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">≺</span></a> <a class="idref" href="Vuip.Environments.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">(</span></a><a class="idref" href="Vuip.Environments.html#84f36cd4ed189474cd702c245f922942"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="Vuip.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <a class="idref" href="Vuip.Environments.html#8b9cfde4740719c5cf7ecbc9a5ab35eb"><span class="id" title="variable">φ</span></a><a class="idref" href="Vuip.Environments.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hlt</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">Hlt</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Δ1</span> <span class="id" title="var">Δ2</span> <span class="id" title="var">Hlt</span> | <span class="id" title="var">Δ1</span> <span class="id" title="var">Δ2</span> <span class="id" title="var">Δ0</span> <span class="id" title="var">Hlt1</span> <span class="id" title="var">IHHlt1</span> <span class="id" title="var">Hlt2</span> <span class="id" title="var">IHHlt2</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hlt</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Δ0</span> <span class="id" title="var">a</span> <span class="id" title="var">Y</span> <span class="id" title="var">Heq1</span> <span class="id" title="var">Heq2</span> <span class="id" title="var">Hall</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">apply</span> (@<a class="idref" href="Vuip.Environments.html#MSetRed"><span class="id" title="constructor">MSetRed</span></a> <a class="idref" href="Vuip.Environments.html#formula_order"><span class="id" title="definition">formula_order</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">Δ0</span> <a class="idref" href="Vuip.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> φ) <span class="id" title="var">a</span> <span class="id" title="var">Y</span>); <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="Vuip.Environments.html#env_order"><span class="id" title="definition">env_order</span></a>. <span class="id" title="var">etransitivity</span>; [<span class="id" title="tactic">exact</span> <span class="id" title="var">IHHlt1</span>| <span class="id" title="tactic">exact</span> <span class="id" title="var">IHHlt2</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Hint Resolve</span> <span class="id" title="var">env_order_0</span> : <span class="id" title="var">order</span>.<br/>
<span class="id" title="keyword">Global Hint Resolve</span> <span class="id" title="var">env_order_1</span> : <span class="id" title="var">order</span>.<br/>
<span class="id" title="keyword">Global Hint Resolve</span> <span class="id" title="var">env_order_2</span> : <span class="id" title="var">order</span>.<br/>
<span class="id" title="keyword">Global Hint Resolve</span> <span class="id" title="var">env_order_add_compat</span> : <span class="id" title="var">order</span>.<br/>
<span class="id" title="keyword">Global Hint Resolve</span> <span class="id" title="var">env_order_cancel_right</span> : <span class="id" title="var">order</span>.<br/>
<span class="id" title="keyword">Global Hint Extern</span> 5 (?<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> ?<span class="id" title="var">b</span>) =&gt; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">lia</span> : <span class="id" title="var">order</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="env_order_equiv_right_compat" class="idref" href="#env_order_equiv_right_compat"><span class="id" title="lemma">env_order_equiv_right_compat</span></a> {<a id="f1f54b5f02c66f517342ebd105dca565" class="idref" href="#f1f54b5f02c66f517342ebd105dca565"><span class="id" title="binder">Δ</span></a> <a id="0a7db65da908953388f6041019bb8d16" class="idref" href="#0a7db65da908953388f6041019bb8d16"><span class="id" title="binder">Δ'</span></a> <a id="9f17df6869f59facf301332d33497772" class="idref" href="#9f17df6869f59facf301332d33497772"><span class="id" title="binder">Δ''</span></a> : <a class="idref" href="Vuip.Environments.html#env"><span class="id" title="definition">env</span></a>}:<br/>
&nbsp;&nbsp;<a class="idref" href="Vuip.Environments.html#0a7db65da908953388f6041019bb8d16"><span class="id" title="variable">Δ'</span></a> <span class="id" title="notation">≡</span> <a class="idref" href="Vuip.Environments.html#9f17df6869f59facf301332d33497772"><span class="id" title="variable">Δ''</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Vuip.Environments.html#f1f54b5f02c66f517342ebd105dca565"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Vuip.Environments.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">≺</span></a> <a class="idref" href="Vuip.Environments.html#9f17df6869f59facf301332d33497772"><span class="id" title="variable">Δ''</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Vuip.Environments.html#f1f54b5f02c66f517342ebd105dca565"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Vuip.Environments.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">≺</span></a> <a class="idref" href="Vuip.Environments.html#0a7db65da908953388f6041019bb8d16"><span class="id" title="variable">Δ'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">ms</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">prepare_order</span> := <span class="id" title="tactic">unfold</span> <a class="idref" href="Vuip.Environments.html#pointed_env_order"><span class="id" title="definition">pointed_env_order</span></a>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
| <span class="id" title="var">Δ</span> := <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">subst</span> <span class="id" title="var">Δ</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">prepare_order</span><br/>
| <span class="id" title="var">H</span> : ?ψ <span class="id" title="notation">∈</span> ?<span class="id" title="var">Γ</span> |- <a class="idref" href="Vuip.Environments.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">(</span></a>?<span class="id" title="var">Γ</span>  <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span>?ψ<span class="id" title="notation">]}</span><a class="idref" href="Vuip.Environments.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">)</span></a> <a class="idref" href="Vuip.Environments.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">≺</span></a> ?<span class="id" title="var">Γ</span> =&gt; <span class="id" title="tactic">apply</span> (<a class="idref" href="Vuip.Environments.html#env_order_equiv_right_compat"><span class="id" title="lemma">env_order_equiv_right_compat</span></a> (<a class="idref" href="Vuip.Environments.html#difference_singleton"><span class="id" title="lemma">difference_singleton</span></a> <span class="id" title="var">Γ</span> ψ <span class="id" title="var">H</span>))<br/>
| <span class="id" title="var">H</span> : ?ψ <span class="id" title="notation">∈</span> ?<span class="id" title="var">Γ</span> |- <a class="idref" href="Vuip.Environments.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">(</span></a>?<span class="id" title="var">Γ</span>  <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span>?ψ<span class="id" title="notation">]}</span> <a class="idref" href="Vuip.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <span class="id" title="var">_</span><a class="idref" href="Vuip.Environments.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">)</span></a> <a class="idref" href="Vuip.Environments.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">≺</span></a> ?<span class="id" title="var">Γ</span> =&gt;<br/>
<span class="id" title="tactic">apply</span> (<a class="idref" href="Vuip.Environments.html#env_order_equiv_right_compat"><span class="id" title="lemma">env_order_equiv_right_compat</span></a> (<a class="idref" href="Vuip.Environments.html#difference_singleton"><span class="id" title="lemma">difference_singleton</span></a> <span class="id" title="var">Γ</span> ψ <span class="id" title="var">H</span>))<br/>
| <span class="id" title="var">H</span> : ?ψ <span class="id" title="notation">∈</span> ?<span class="id" title="var">Γ</span> |- <a class="idref" href="Vuip.Environments.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">(</span></a><a class="idref" href="Vuip.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">(</span></a>?<span class="id" title="var">Γ</span>  <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span>?ψ<span class="id" title="notation">]}</span> <a class="idref" href="Vuip.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <span class="id" title="var">_</span><a class="idref" href="Vuip.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">)</span></a> <a class="idref" href="Vuip.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <span class="id" title="var">_</span><a class="idref" href="Vuip.Environments.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">)</span></a> <a class="idref" href="Vuip.Environments.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">≺</span></a> ?<span class="id" title="var">Γ</span> =&gt;<br/>
<span class="id" title="tactic">apply</span> (<a class="idref" href="Vuip.Environments.html#env_order_equiv_right_compat"><span class="id" title="lemma">env_order_equiv_right_compat</span></a> (<a class="idref" href="Vuip.Environments.html#difference_singleton"><span class="id" title="lemma">difference_singleton</span></a> <span class="id" title="var">Γ</span> ψ <span class="id" title="var">H</span>))<br/>
| <span class="id" title="var">H</span> : ?ψ <span class="id" title="notation">∈</span> ?<span class="id" title="var">Γ</span> |- <a class="idref" href="Vuip.Environments.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">(</span></a>?<span class="id" title="var">Γ</span>  <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span>?ψ<span class="id" title="notation">]}</span> <a class="idref" href="Vuip.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <span class="id" title="var">_</span> <a class="idref" href="Vuip.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <span class="id" title="var">_</span><a class="idref" href="Vuip.Environments.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">)</span></a> <a class="idref" href="Vuip.Environments.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">≺</span></a> ?<span class="id" title="var">Γ</span> <a class="idref" href="Vuip.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> ?φ =&gt;<br/>
<span class="id" title="tactic">apply</span> (<a class="idref" href="Vuip.Environments.html#env_order_equiv_right_compat"><span class="id" title="lemma">env_order_equiv_right_compat</span></a> (<a class="idref" href="Vuip.Environments.html#equiv_disj_union_compat_r"><span class="id" title="lemma">equiv_disj_union_compat_r</span></a>(<a class="idref" href="Vuip.Environments.html#difference_singleton"><span class="id" title="lemma">difference_singleton</span></a> <span class="id" title="var">Γ</span> ψ <span class="id" title="var">H</span>)))<br/>
| <span class="id" title="var">H</span> : ?ψ <span class="id" title="notation">∈</span> ?<span class="id" title="var">Γ</span> |- <a class="idref" href="Vuip.Environments.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">(</span></a>?<span class="id" title="var">Γ</span>  <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span>?ψ<span class="id" title="notation">]}</span> <a class="idref" href="Vuip.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <span class="id" title="var">_</span> <a class="idref" href="Vuip.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <span class="id" title="var">_</span> <a class="idref" href="Vuip.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <span class="id" title="var">_</span><a class="idref" href="Vuip.Environments.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">)</span></a> <a class="idref" href="Vuip.Environments.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">≺</span></a> ?<span class="id" title="var">Γ</span> <a class="idref" href="Vuip.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> ?φ =&gt;<br/>
<span class="id" title="tactic">apply</span> (<a class="idref" href="Vuip.Environments.html#env_order_equiv_right_compat"><span class="id" title="lemma">env_order_equiv_right_compat</span></a> (<a class="idref" href="Vuip.Environments.html#equiv_disj_union_compat_r"><span class="id" title="lemma">equiv_disj_union_compat_r</span></a>(<a class="idref" href="Vuip.Environments.html#difference_singleton"><span class="id" title="lemma">difference_singleton</span></a> <span class="id" title="var">Γ</span> ψ <span class="id" title="var">H</span>)))<br/>
| <span class="id" title="var">H</span> : ?ψ <span class="id" title="notation">∈</span> ?<span class="id" title="var">Γ</span> |- <a class="idref" href="Vuip.Environments.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">(</span></a>?<span class="id" title="var">Γ</span>  <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span>?ψ<span class="id" title="notation">]}</span> <a class="idref" href="Vuip.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <span class="id" title="var">_</span><a class="idref" href="Vuip.Environments.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">)</span></a> <a class="idref" href="Vuip.Environments.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">≺</span></a> ?<span class="id" title="var">Γ</span> <a class="idref" href="Vuip.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> ?φ =&gt;<br/>
<span class="id" title="tactic">apply</span> (<a class="idref" href="Vuip.Environments.html#env_order_equiv_right_compat"><span class="id" title="lemma">env_order_equiv_right_compat</span></a> (<a class="idref" href="Vuip.Environments.html#equiv_disj_union_compat_r"><span class="id" title="lemma">equiv_disj_union_compat_r</span></a>(<a class="idref" href="Vuip.Environments.html#difference_singleton"><span class="id" title="lemma">difference_singleton</span></a> <span class="id" title="var">Γ</span> ψ <span class="id" title="var">H</span>)))<br/>
<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Global Hint Extern</span> 2 (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a>?<span class="id" title="var">Γ</span>  <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span>?ψ<span class="id" title="notation">]}</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> ?φ<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Vuip.Environments.html#76364ed22a942cd0c08a3d02d3963dec"><span class="id" title="notation">≺·</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a>?<span class="id" title="var">Γ</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> ?φ<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) =&gt; <span class="id" title="var">prepare_order</span> : <span class="id" title="var">order</span>.<br/>
<span class="id" title="keyword">Global Hint Extern</span> 2 (?<span class="id" title="var">Γ</span>  <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span>?ψ<span class="id" title="notation">]}</span> <a class="idref" href="Vuip.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> ?φ' <a class="idref" href="Vuip.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> ?φ'' <a class="idref" href="Vuip.Environments.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">≺</span></a> ?<span class="id" title="var">Γ</span> <a class="idref" href="Vuip.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> ?φ) =&gt; <span class="id" title="var">prepare_order</span> : <span class="id" title="var">order</span>.<br/>
<span class="id" title="keyword">Global Hint Extern</span> 2 (?<span class="id" title="var">Γ</span>  <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span>?ψ<span class="id" title="notation">]}</span> <a class="idref" href="Vuip.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> ?φ' <a class="idref" href="Vuip.Environments.html#e87830648f12945c0aeb4eaf8e8aac32"><span class="id" title="notation">≺</span></a> ?<span class="id" title="var">Γ</span> <a class="idref" href="Vuip.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> ?φ) =&gt; <span class="id" title="var">prepare_order</span> : <span class="id" title="var">order</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="make_impl_weight" class="idref" href="#make_impl_weight"><span class="id" title="lemma">make_impl_weight</span></a> <a id="af1a414bf4108f8b948def361cb0ffff" class="idref" href="#af1a414bf4108f8b948def361cb0ffff"><span class="id" title="binder">φ</span></a> <a id="5af658faaaa6ff799428cca361e27cac" class="idref" href="#5af658faaaa6ff799428cca361e27cac"><span class="id" title="binder">ψ</span></a>: <a class="idref" href="Vuip.Environments.html#weight"><span class="id" title="definition">weight</span></a> (<a class="idref" href="Vuip.Environments.html#af1a414bf4108f8b948def361cb0ffff"><span class="id" title="variable">φ</span></a> <a class="idref" href="Vuip.Environments.html#e11a273adc0648f21ffb62a003ec5cea"><span class="id" title="notation">⇢</span></a> <a class="idref" href="Vuip.Environments.html#5af658faaaa6ff799428cca361e27cac"><span class="id" title="variable">ψ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="Vuip.Environments.html#weight"><span class="id" title="definition">weight</span></a> (<a class="idref" href="Vuip.Environments.html#af1a414bf4108f8b948def361cb0ffff"><span class="id" title="variable">φ</span></a> <a class="idref" href="Vuip.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> <a class="idref" href="Vuip.Environments.html#5af658faaaa6ff799428cca361e27cac"><span class="id" title="variable">ψ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">destruct</span> (<a class="idref" href="Vuip.Environments.html#make_impl_spec"><span class="id" title="lemma">make_impl_spec</span></a> φ ψ) <span class="id" title="keyword">as</span> [[[<span class="id" title="var">Heq'</span> <span class="id" title="var">Heq</span>]|[<span class="id" title="var">Heq'</span> <span class="id" title="var">Heq</span>]]|<span class="id" title="var">Heq</span>]; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">simpl</span>.<br/>
- <span class="id" title="tactic">destruct</span> ψ; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">lia</span>.<br/>
- <span class="id" title="tactic">destruct</span> φ; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">lia</span>.<br/>
- <span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="make_impl_weight2" class="idref" href="#make_impl_weight2"><span class="id" title="lemma">make_impl_weight2</span></a> <a id="052dfa0b7f302ef1fba88b4a9f0eb2b6" class="idref" href="#052dfa0b7f302ef1fba88b4a9f0eb2b6"><span class="id" title="binder">φ</span></a> <a id="e3449427cc5646a0124a40100729f44c" class="idref" href="#e3449427cc5646a0124a40100729f44c"><span class="id" title="binder">ψ</span></a> <a id="ec781e3b22f50a7083220aff0959254f" class="idref" href="#ec781e3b22f50a7083220aff0959254f"><span class="id" title="binder">θ</span></a>: <a class="idref" href="Vuip.Environments.html#weight"><span class="id" title="definition">weight</span></a> (<a class="idref" href="Vuip.Environments.html#052dfa0b7f302ef1fba88b4a9f0eb2b6"><span class="id" title="variable">φ</span></a> <a class="idref" href="Vuip.Environments.html#e11a273adc0648f21ffb62a003ec5cea"><span class="id" title="notation">⇢</span></a> <a class="idref" href="Vuip.Environments.html#e11a273adc0648f21ffb62a003ec5cea"><span class="id" title="notation">(</span></a><a class="idref" href="Vuip.Environments.html#e3449427cc5646a0124a40100729f44c"><span class="id" title="variable">ψ</span></a> <a class="idref" href="Vuip.Environments.html#e11a273adc0648f21ffb62a003ec5cea"><span class="id" title="notation">⇢</span></a> <a class="idref" href="Vuip.Environments.html#ec781e3b22f50a7083220aff0959254f"><span class="id" title="variable">θ</span></a><a class="idref" href="Vuip.Environments.html#e11a273adc0648f21ffb62a003ec5cea"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="Vuip.Environments.html#weight"><span class="id" title="definition">weight</span></a> (<a class="idref" href="Vuip.Environments.html#052dfa0b7f302ef1fba88b4a9f0eb2b6"><span class="id" title="variable">φ</span></a> <a class="idref" href="Vuip.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> <a class="idref" href="Vuip.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">(</span></a><a class="idref" href="Vuip.Environments.html#e3449427cc5646a0124a40100729f44c"><span class="id" title="variable">ψ</span></a> <a class="idref" href="Vuip.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">→</span></a> <a class="idref" href="Vuip.Environments.html#ec781e3b22f50a7083220aff0959254f"><span class="id" title="variable">θ</span></a><a class="idref" href="Vuip.Formulas.html#bb8d9050f9df35c0476eae46ff96b3be"><span class="id" title="notation">)</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">pose</span> (<a class="idref" href="Vuip.Environments.html#make_impl_weight"><span class="id" title="lemma">make_impl_weight</span></a> ψ <span class="id" title="var">θ</span>).<br/>
<span class="id" title="tactic">pose</span> (<a class="idref" href="Vuip.Environments.html#make_impl_weight"><span class="id" title="lemma">make_impl_weight</span></a> φ (ψ <a class="idref" href="Vuip.Environments.html#e11a273adc0648f21ffb62a003ec5cea"><span class="id" title="notation">⇢</span></a> <span class="id" title="var">θ</span>)).<br/>
<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Hint Extern</span>  5  (<a class="idref" href="Vuip.Environments.html#weight"><span class="id" title="definition">weight</span></a> (?φ <a class="idref" href="Vuip.Environments.html#e11a273adc0648f21ffb62a003ec5cea"><span class="id" title="notation">⇢</span></a> ?ψ) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">_</span>) =&gt; (<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Arith.Lt.html#le_lt_trans"><span class="id" title="abbreviation">le_lt_trans</span></a>; [<span class="id" title="tactic">eapply</span> <a class="idref" href="Vuip.Environments.html#make_impl_weight"><span class="id" title="lemma">make_impl_weight</span></a>|]) : <span class="id" title="var">order</span>.<br/>

<br/>
<span class="id" title="keyword">Global Hint Extern</span>  5  (<a class="idref" href="Vuip.Environments.html#weight"><span class="id" title="definition">weight</span></a> (?φ <a class="idref" href="Vuip.Environments.html#e11a273adc0648f21ffb62a003ec5cea"><span class="id" title="notation">⇢</span></a> <a class="idref" href="Vuip.Environments.html#e11a273adc0648f21ffb62a003ec5cea"><span class="id" title="notation">(</span></a>?ψ <a class="idref" href="Vuip.Environments.html#e11a273adc0648f21ffb62a003ec5cea"><span class="id" title="notation">⇢</span></a> ?<span class="id" title="var">θ</span><a class="idref" href="Vuip.Environments.html#e11a273adc0648f21ffb62a003ec5cea"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">_</span>) =&gt; (<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Arith.Lt.html#le_lt_trans"><span class="id" title="abbreviation">le_lt_trans</span></a>; [<span class="id" title="tactic">eapply</span> <a class="idref" href="Vuip.Environments.html#make_impl_weight2"><span class="id" title="lemma">make_impl_weight2</span></a>|]) : <span class="id" title="var">order</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">order_tac</span> := <span class="id" title="var">prepare_order</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">order</span>.<br/>

<br/>
<span class="comment">(*&nbsp;technical&nbsp;lemma&nbsp;:&nbsp;one&nbsp;can&nbsp;constructively&nbsp;find&nbsp;whether&nbsp;an&nbsp;environment&nbsp;contains<br/>
&nbsp;&nbsp;&nbsp;an&nbsp;element&nbsp;satisfying&nbsp;a&nbsp;decidable&nbsp;property&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="decide_in" class="idref" href="#decide_in"><span class="id" title="lemma">decide_in</span></a> (<a id="P:231" class="idref" href="#P:231"><span class="id" title="binder">P</span></a> : <a class="idref" href="Vuip.Formulas.html#formula"><span class="id" title="inductive">formula</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) (<a id="b8327ff33ca73637de1d2d3a61fbfea7" class="idref" href="#b8327ff33ca73637de1d2d3a61fbfea7"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="Vuip.Environments.html#env"><span class="id" title="definition">env</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="notation">forall</span> <a id="22777315961f5b8542fe8d6082d87198" class="idref" href="#22777315961f5b8542fe8d6082d87198"><span class="id" title="binder">φ</span></a><span class="id" title="notation">,</span> <span class="id" title="class">Decision</span> (<a class="idref" href="Vuip.Environments.html#P:231"><span class="id" title="variable">P</span></a> <a class="idref" href="Vuip.Environments.html#22777315961f5b8542fe8d6082d87198"><span class="id" title="variable">φ</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">{</span></a><a id="edc0196fcc059268971feaec870a4177" class="idref" href="#edc0196fcc059268971feaec870a4177"><span class="id" title="binder">φ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">:</span></a> <a class="idref" href="Vuip.Formulas.html#formula"><span class="id" title="inductive">formula</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="Vuip.Environments.html#edc0196fcc059268971feaec870a4177"><span class="id" title="variable">φ</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="Vuip.Environments.html#b8327ff33ca73637de1d2d3a61fbfea7"><span class="id" title="variable">Γ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Vuip.Environments.html#P:231"><span class="id" title="variable">P</span></a> <a class="idref" href="Vuip.Environments.html#edc0196fcc059268971feaec870a4177"><span class="id" title="variable">φ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">{</span></a><span class="id" title="notation">forall</span> <a id="f922a35ac071b68a9ac94f6ceceba5df" class="idref" href="#f922a35ac071b68a9ac94f6ceceba5df"><span class="id" title="binder">φ</span></a><span class="id" title="notation">,</span> <a class="idref" href="Vuip.Environments.html#f922a35ac071b68a9ac94f6ceceba5df"><span class="id" title="variable">φ</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="Vuip.Environments.html#b8327ff33ca73637de1d2d3a61fbfea7"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <a class="idref" href="Vuip.Environments.html#P:231"><span class="id" title="variable">P</span></a> <a class="idref" href="Vuip.Environments.html#f922a35ac071b68a9ac94f6ceceba5df"><span class="id" title="variable">φ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#53e8e3b7ca0342c8b99a777b3c5faf3a"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intro</span> <span class="id" title="var">HP</span>.<br/>
<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span> <span class="id" title="keyword">using</span> <a class="idref" href="Vuip.Environments.html#gmultiset_rec"><span class="id" title="lemma">gmultiset_rec</span></a>.<br/>
- <span class="id" title="tactic">right</span>. <span class="id" title="tactic">intros</span> φ <span class="id" title="var">H</span>φ; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>φ.<br/>
- <span class="id" title="tactic">destruct</span> <span class="id" title="var">IHΓ</span> <span class="id" title="keyword">as</span> [(φ&amp;<span class="id" title="var">H</span>φ) | <span class="id" title="var">HF</span>].<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">left</span>. <span class="id" title="tactic">exists</span> φ. <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">case</span> (<span class="id" title="var">HP</span> <span class="id" title="var">x</span>); <span class="id" title="tactic">intro</span> <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">left</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>. <span class="id" title="var">ms</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">right</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="var">ms</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="union_difference_L" class="idref" href="#union_difference_L"><span class="id" title="lemma">union_difference_L</span></a> (<a id="1b744766bbf0d923211bf725e1077e01" class="idref" href="#1b744766bbf0d923211bf725e1077e01"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="Vuip.Environments.html#env"><span class="id" title="definition">env</span></a>) <a id="e601da535f894de53fd85ae63d49fe88" class="idref" href="#e601da535f894de53fd85ae63d49fe88"><span class="id" title="binder">Δ</span></a> <a id="f3f89852052b1b046c4f7299f744b2a7" class="idref" href="#f3f89852052b1b046c4f7299f744b2a7"><span class="id" title="binder">ϕ</span></a>: <a class="idref" href="Vuip.Environments.html#f3f89852052b1b046c4f7299f744b2a7"><span class="id" title="variable">ϕ</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="Vuip.Environments.html#1b744766bbf0d923211bf725e1077e01"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="notation">(</span><a class="idref" href="Vuip.Environments.html#1b744766bbf0d923211bf725e1077e01"><span class="id" title="variable">Γ</span></a> <span class="id" title="notation">⊎</span> <a class="idref" href="Vuip.Environments.html#e601da535f894de53fd85ae63d49fe88"><span class="id" title="variable">Δ</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span><a class="idref" href="Vuip.Environments.html#f3f89852052b1b046c4f7299f744b2a7"><span class="id" title="variable">ϕ</span></a><span class="id" title="notation">]}</span> <span class="id" title="notation">≡</span> <a class="idref" href="Vuip.Environments.html#1b744766bbf0d923211bf725e1077e01"><span class="id" title="variable">Γ</span></a> <span class="id" title="notation">∖</span><span class="id" title="notation">{[</span><a class="idref" href="Vuip.Environments.html#f3f89852052b1b046c4f7299f744b2a7"><span class="id" title="variable">ϕ</span></a><span class="id" title="notation">]}</span> <span class="id" title="notation">⊎</span> <a class="idref" href="Vuip.Environments.html#e601da535f894de53fd85ae63d49fe88"><span class="id" title="variable">Δ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">Hin</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Vuip.Environments.html#difference_singleton"><span class="id" title="lemma">difference_singleton</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hin</span>). <span class="id" title="var">ms</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="union_difference_R" class="idref" href="#union_difference_R"><span class="id" title="lemma">union_difference_R</span></a> (<a id="44af9b5a0fd28c07042dd7ac5356cdc5" class="idref" href="#44af9b5a0fd28c07042dd7ac5356cdc5"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="Vuip.Environments.html#env"><span class="id" title="definition">env</span></a>) <a id="53f8624b06a65fcbcb58b7de1aca2026" class="idref" href="#53f8624b06a65fcbcb58b7de1aca2026"><span class="id" title="binder">Δ</span></a> <a id="ec7583e8165e378ff3b2aeb33b918ad0" class="idref" href="#ec7583e8165e378ff3b2aeb33b918ad0"><span class="id" title="binder">ϕ</span></a>: <a class="idref" href="Vuip.Environments.html#ec7583e8165e378ff3b2aeb33b918ad0"><span class="id" title="variable">ϕ</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="Vuip.Environments.html#53f8624b06a65fcbcb58b7de1aca2026"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="notation">(</span><a class="idref" href="Vuip.Environments.html#44af9b5a0fd28c07042dd7ac5356cdc5"><span class="id" title="variable">Γ</span></a> <span class="id" title="notation">⊎</span> <a class="idref" href="Vuip.Environments.html#53f8624b06a65fcbcb58b7de1aca2026"><span class="id" title="variable">Δ</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span><a class="idref" href="Vuip.Environments.html#ec7583e8165e378ff3b2aeb33b918ad0"><span class="id" title="variable">ϕ</span></a><span class="id" title="notation">]}</span> <span class="id" title="notation">≡</span> <a class="idref" href="Vuip.Environments.html#44af9b5a0fd28c07042dd7ac5356cdc5"><span class="id" title="variable">Γ</span></a> <span class="id" title="notation">⊎</span> <span class="id" title="notation">(</span><a class="idref" href="Vuip.Environments.html#53f8624b06a65fcbcb58b7de1aca2026"><span class="id" title="variable">Δ</span></a> <span class="id" title="notation">∖</span><span class="id" title="notation">{[</span><a class="idref" href="Vuip.Environments.html#ec7583e8165e378ff3b2aeb33b918ad0"><span class="id" title="variable">ϕ</span></a><span class="id" title="notation">]}</span><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">Hin</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Vuip.Environments.html#difference_singleton"><span class="id" title="lemma">difference_singleton</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hin</span>). <span class="id" title="var">ms</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="equiv_assoc" class="idref" href="#equiv_assoc"><span class="id" title="instance">equiv_assoc</span></a> : @<span class="id" title="class">Assoc</span> <a class="idref" href="Vuip.Environments.html#env"><span class="id" title="definition">env</span></a> <span class="id" title="definition">equiv</span> <span class="id" title="definition">disj_union</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>. <span class="id" title="var">ms</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Global Hint Immediate</span> <span class="id" title="var">equiv_assoc</span> : <span class="id" title="var">proof</span>.<br/>

<br/>
</div>

<div class="doc">
Tactics 
</div>
<div class="code">
<span class="comment">(*&nbsp;helper&nbsp;tactic&nbsp;split&nbsp;cases&nbsp;given&nbsp;an&nbsp;assumption&nbsp;about&nbsp;belonging&nbsp;to&nbsp;a&nbsp;multiset&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">in_tac</span> :=<br/>
<span class="id" title="tactic">repeat</span><br/>
<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
| <span class="id" title="var">H</span> : ?<span class="id" title="var">θ</span>  <span class="id" title="notation">∈</span> <span class="id" title="notation">{[</span>?<span class="id" title="var">θ1</span><span class="id" title="notation">;</span> ?<span class="id" title="var">θ2</span><span class="id" title="notation">]}</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">apply</span> <span class="id" title="lemma">gmultiset_elem_of_union</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H</span>|<span class="id" title="var">H</span>]; <span class="id" title="tactic">try</span> <span class="id" title="tactic">subst</span><br/>
| <span class="id" title="var">H</span> : ?<span class="id" title="var">θ</span> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span>?<span class="id" title="var">Δ</span> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span>?<span class="id" title="var">θ'</span><span class="id" title="notation">]}</span><span class="id" title="notation">)</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">apply</span> <a class="idref" href="Vuip.Environments.html#difference_include"><span class="id" title="lemma">difference_include</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">trivial</span><br/>
| <span class="id" title="var">H</span> : <span class="id" title="keyword">context</span> [?<span class="id" title="var">θ</span>  <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span>?<span class="id" title="var">d</span> <a class="idref" href="Vuip.Environments.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> ?<span class="id" title="var">θ2</span><span class="id" title="notation">)</span>] |- <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Vuip.Environments.html#env_in_add"><span class="id" title="lemma">env_in_add</span></a> <span class="id" title="var">d</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H</span>|<span class="id" title="var">H</span>]; <span class="id" title="tactic">try</span> <span class="id" title="tactic">subst</span><br/>
| <span class="id" title="var">H</span> : <span class="id" title="keyword">context</span> [?<span class="id" title="var">θ</span> <span class="id" title="notation">∈</span> <span class="id" title="notation">{[</span> ?<span class="id" title="var">θ2</span> <span class="id" title="notation">]}</span>] |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">gmultiset_elem_of_singleton</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span><br/>
<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">vars_tac</span> :=<br/>
<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>;<br/>
<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
| <span class="id" title="var">HE</span> : <span class="id" title="keyword">context</span> [<a class="idref" href="Vuip.Formulas.html#occurs_in"><span class="id" title="definition">occurs_in</span></a> ?<span class="id" title="var">x</span> (?<span class="id" title="var">E</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)], <span class="id" title="var">H</span> : <a class="idref" href="Vuip.Formulas.html#occurs_in"><span class="id" title="definition">occurs_in</span></a> ?<span class="id" title="var">x</span> (?<span class="id" title="var">E</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) |- <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">HE</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
<span class="id" title="keyword">end</span>;<br/>
<span class="id" title="tactic">intuition</span>;<br/>
<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> | <span class="id" title="var">H</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="x:243" class="idref" href="#x:243"><span class="id" title="binder">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">end</span>;<br/>
<span class="id" title="tactic">intuition</span>;<br/>
<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">in_tac</span>; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">tauto</span> || <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> *|]); <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *;<br/>
<span class="id" title="tactic">try</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
| <span class="id" title="var">H</span> : <a class="idref" href="Vuip.Formulas.html#occurs_in"><span class="id" title="definition">occurs_in</span></a> <span class="id" title="var">_</span> (?<span class="id" title="var">a</span> <a class="idref" href="Vuip.Environments.html#e11a273adc0648f21ffb62a003ec5cea"><span class="id" title="notation">⇢</span></a> <a class="idref" href="Vuip.Environments.html#e11a273adc0648f21ffb62a003ec5cea"><span class="id" title="notation">(</span></a>?<span class="id" title="var">b</span> <a class="idref" href="Vuip.Environments.html#e11a273adc0648f21ffb62a003ec5cea"><span class="id" title="notation">⇢</span></a> ?<span class="id" title="var">c</span><a class="idref" href="Vuip.Environments.html#e11a273adc0648f21ffb62a003ec5cea"><span class="id" title="notation">)</span></a>) |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">apply</span> <a class="idref" href="Vuip.Environments.html#occurs_in_make_impl2"><span class="id" title="lemma">occurs_in_make_impl2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
| <span class="id" title="var">H</span> : <a class="idref" href="Vuip.Formulas.html#occurs_in"><span class="id" title="definition">occurs_in</span></a> <span class="id" title="var">_</span> (?<span class="id" title="var">a</span> <a class="idref" href="Vuip.Environments.html#e11a273adc0648f21ffb62a003ec5cea"><span class="id" title="notation">⇢</span></a> ?<span class="id" title="var">b</span>) |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">apply</span> <a class="idref" href="Vuip.Environments.html#occurs_in_make_impl"><span class="id" title="lemma">occurs_in_make_impl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
<span class="id" title="keyword">end</span>;<br/>
<span class="id" title="tactic">try</span> <span class="id" title="var">multimatch</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
| <span class="id" title="var">H</span> : ?<span class="id" title="var">θ0</span> <span class="id" title="notation">∈</span> ?<span class="id" title="var">Δ0</span> |- <span class="id" title="keyword">context</span> [<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="a02da22466e0b27ee9a7149dd2e08034" class="idref" href="#a02da22466e0b27ee9a7149dd2e08034"><span class="id" title="binder">θ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="Vuip.Environments.html#57c391cdf84ab81b66b2ad2850894adb"><span class="id" title="variable">θ</span></a> <span class="id" title="notation">∈</span> ?<span class="id" title="var">Δ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Vuip.Formulas.html#occurs_in"><span class="id" title="definition">occurs_in</span></a> ?<span class="id" title="var">x</span> <a class="idref" href="Vuip.Environments.html#57c391cdf84ab81b66b2ad2850894adb"><span class="id" title="variable">θ</span></a>] =&gt;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">solve</span>[<span class="id" title="tactic">try</span> <span class="id" title="tactic">right</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">θ0</span>; <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">exact</span> <span class="id" title="var">H</span>|<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">tauto</span>]; <span class="id" title="tactic">eauto</span>]<br/>
<span class="id" title="keyword">end</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
